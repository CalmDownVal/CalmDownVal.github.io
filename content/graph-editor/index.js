"use strict";(()=>{var Gr=Object.create;var Ye=Object.defineProperty;var Or=Object.getOwnPropertyDescriptor;var Br=Object.getOwnPropertyNames;var Fr=Object.getPrototypeOf,Vr=Object.prototype.hasOwnProperty;var Hr=(t,e,r)=>e in t?Ye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var zr=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ur=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Br(e))!Vr.call(t,o)&&o!==r&&Ye(t,o,{get:()=>e[o],enumerable:!(n=Or(e,o))||n.enumerable});return t};var Mt=(t,e,r)=>(r=t!=null?Gr(Fr(t)):{},Ur(e||!t||!t.__esModule?Ye(r,"default",{value:t,enumerable:!0}):r,t));var X=(t,e,r)=>(Hr(t,typeof e!="symbol"?e+"":e,r),r);var At=zr((Tt,wt)=>{(function(t,e){typeof Tt=="object"&&typeof wt<"u"?wt.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self).RBush=e()})(Tt,function(){"use strict";function t(a,u,c,_,f){(function m(v,E,S,T,I){for(;T>S;){if(T-S>600){var C=T-S+1,k=E-S+1,ae=Math.log(C),U=.5*Math.exp(2*ae/3),Z=.5*Math.sqrt(ae*U*(C-U)/C)*(k-C/2<0?-1:1),q=Math.max(S,Math.floor(E-k*U/C+Z)),Nr=Math.min(T,Math.floor(E+(C-k)*U/C+Z));m(v,E,q,Nr,I)}var me=v[E],le=S,G=T;for(e(v,S,E),I(v[T],me)>0&&e(v,S,T);le<G;){for(e(v,le,G),le++,G--;I(v[le],me)<0;)le++;for(;I(v[G],me)>0;)G--}I(v[S],me)===0?e(v,S,G):e(v,++G,T),G<=E&&(S=G+1),E<=G&&(T=G-1)}})(a,u,c||0,_||a.length-1,f||r)}function e(a,u,c){var _=a[u];a[u]=a[c],a[c]=_}function r(a,u){return a<u?-1:a>u?1:0}var n=function(a){a===void 0&&(a=9),this._maxEntries=Math.max(4,a),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(a,u,c){if(!c)return u.indexOf(a);for(var _=0;_<u.length;_++)if(c(a,u[_]))return _;return-1}function i(a,u){s(a,0,a.children.length,u,a)}function s(a,u,c,_,f){f||(f=A(null)),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0;for(var m=u;m<c;m++){var v=a.children[m];l(f,a.leaf?_(v):v)}return f}function l(a,u){return a.minX=Math.min(a.minX,u.minX),a.minY=Math.min(a.minY,u.minY),a.maxX=Math.max(a.maxX,u.maxX),a.maxY=Math.max(a.maxY,u.maxY),a}function d(a,u){return a.minX-u.minX}function p(a,u){return a.minY-u.minY}function y(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function g(a){return a.maxX-a.minX+(a.maxY-a.minY)}function b(a,u){return a.minX<=u.minX&&a.minY<=u.minY&&u.maxX<=a.maxX&&u.maxY<=a.maxY}function P(a,u){return u.minX<=a.maxX&&u.minY<=a.maxY&&u.maxX>=a.minX&&u.maxY>=a.minY}function A(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function R(a,u,c,_,f){for(var m=[u,c];m.length;)if(!((c=m.pop())-(u=m.pop())<=_)){var v=u+Math.ceil((c-u)/_/2)*_;t(a,v,u,c,f),m.push(u,v,v,c)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(a){var u=this.data,c=[];if(!P(a,u))return c;for(var _=this.toBBox,f=[];u;){for(var m=0;m<u.children.length;m++){var v=u.children[m],E=u.leaf?_(v):v;P(a,E)&&(u.leaf?c.push(v):b(a,E)?this._all(v,c):f.push(v))}u=f.pop()}return c},n.prototype.collides=function(a){var u=this.data;if(!P(a,u))return!1;for(var c=[];u;){for(var _=0;_<u.children.length;_++){var f=u.children[_],m=u.leaf?this.toBBox(f):f;if(P(a,m)){if(u.leaf||b(a,m))return!0;c.push(f)}}u=c.pop()}return!1},n.prototype.load=function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var u=0;u<a.length;u++)this.insert(a[u]);return this}var c=this._build(a.slice(),0,a.length-1,0);if(this.data.children.length)if(this.data.height===c.height)this._splitRoot(this.data,c);else{if(this.data.height<c.height){var _=this.data;this.data=c,c=_}this._insert(c,this.data.height-c.height-1,!0)}else this.data=c;return this},n.prototype.insert=function(a){return a&&this._insert(a,this.data.height-1),this},n.prototype.clear=function(){return this.data=A([]),this},n.prototype.remove=function(a,u){if(!a)return this;for(var c,_,f,m=this.data,v=this.toBBox(a),E=[],S=[];m||E.length;){if(m||(m=E.pop(),_=E[E.length-1],c=S.pop(),f=!0),m.leaf){var T=o(a,m.children,u);if(T!==-1)return m.children.splice(T,1),E.push(m),this._condense(E),this}f||m.leaf||!b(m,v)?_?(c++,m=_.children[c],f=!1):m=null:(E.push(m),S.push(c),c=0,_=m,m=m.children[0])}return this},n.prototype.toBBox=function(a){return a},n.prototype.compareMinX=function(a,u){return a.minX-u.minX},n.prototype.compareMinY=function(a,u){return a.minY-u.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(a){return this.data=a,this},n.prototype._all=function(a,u){for(var c=[];a;)a.leaf?u.push.apply(u,a.children):c.push.apply(c,a.children),a=c.pop();return u},n.prototype._build=function(a,u,c,_){var f,m=c-u+1,v=this._maxEntries;if(m<=v)return i(f=A(a.slice(u,c+1)),this.toBBox),f;_||(_=Math.ceil(Math.log(m)/Math.log(v)),v=Math.ceil(m/Math.pow(v,_-1))),(f=A([])).leaf=!1,f.height=_;var E=Math.ceil(m/v),S=E*Math.ceil(Math.sqrt(v));R(a,u,c,S,this.compareMinX);for(var T=u;T<=c;T+=S){var I=Math.min(T+S-1,c);R(a,T,I,E,this.compareMinY);for(var C=T;C<=I;C+=E){var k=Math.min(C+E-1,I);f.children.push(this._build(a,C,k,_-1))}}return i(f,this.toBBox),f},n.prototype._chooseSubtree=function(a,u,c,_){for(;_.push(u),!u.leaf&&_.length-1!==c;){for(var f=1/0,m=1/0,v=void 0,E=0;E<u.children.length;E++){var S=u.children[E],T=y(S),I=(C=a,k=S,(Math.max(k.maxX,C.maxX)-Math.min(k.minX,C.minX))*(Math.max(k.maxY,C.maxY)-Math.min(k.minY,C.minY))-T);I<m?(m=I,f=T<f?T:f,v=S):I===m&&T<f&&(f=T,v=S)}u=v||u.children[0]}var C,k;return u},n.prototype._insert=function(a,u,c){var _=c?a:this.toBBox(a),f=[],m=this._chooseSubtree(_,this.data,u,f);for(m.children.push(a),l(m,_);u>=0&&f[u].children.length>this._maxEntries;)this._split(f,u),u--;this._adjustParentBBoxes(_,f,u)},n.prototype._split=function(a,u){var c=a[u],_=c.children.length,f=this._minEntries;this._chooseSplitAxis(c,f,_);var m=this._chooseSplitIndex(c,f,_),v=A(c.children.splice(m,c.children.length-m));v.height=c.height,v.leaf=c.leaf,i(c,this.toBBox),i(v,this.toBBox),u?a[u-1].children.push(v):this._splitRoot(c,v)},n.prototype._splitRoot=function(a,u){this.data=A([a,u]),this.data.height=a.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(a,u,c){for(var _,f,m,v,E,S,T,I=1/0,C=1/0,k=u;k<=c-u;k++){var ae=s(a,0,k,this.toBBox),U=s(a,k,c,this.toBBox),Z=(f=ae,m=U,v=void 0,E=void 0,S=void 0,T=void 0,v=Math.max(f.minX,m.minX),E=Math.max(f.minY,m.minY),S=Math.min(f.maxX,m.maxX),T=Math.min(f.maxY,m.maxY),Math.max(0,S-v)*Math.max(0,T-E)),q=y(ae)+y(U);Z<I?(I=Z,_=k,C=q<C?q:C):Z===I&&q<C&&(C=q,_=k)}return _||c-u},n.prototype._chooseSplitAxis=function(a,u,c){var _=a.leaf?this.compareMinX:d,f=a.leaf?this.compareMinY:p;this._allDistMargin(a,u,c,_)<this._allDistMargin(a,u,c,f)&&a.children.sort(_)},n.prototype._allDistMargin=function(a,u,c,_){a.children.sort(_);for(var f=this.toBBox,m=s(a,0,u,f),v=s(a,c-u,c,f),E=g(m)+g(v),S=u;S<c-u;S++){var T=a.children[S];l(m,a.leaf?f(T):T),E+=g(m)}for(var I=c-u-1;I>=u;I--){var C=a.children[I];l(v,a.leaf?f(C):C),E+=g(v)}return E},n.prototype._adjustParentBBoxes=function(a,u,c){for(var _=c;_>=0;_--)l(u[_],a)},n.prototype._condense=function(a){for(var u=a.length-1,c=void 0;u>=0;u--)a[u].children.length===0?u>0?(c=a[u-1].children).splice(c.indexOf(a[u]),1):this.clear():i(a[u],this.toBBox)},n})});var Xr=[],x={__e(t,e){for(;e=e.__;)if(28&e.flags&&1024&~e.flags)try{if(e.type.getDerivedStateFromError&&e.__c.setState(e.type.getDerivedStateFromError(t)),e.__c.componentDidCatch&&e.__c.componentDidCatch(t),16384&e.flags)return void(e.flags|=512)}catch(r){t=r}throw t}};function _e(t,e){t.__h==null&&(t.__h=[]),t.__h.push(e)}function Lt(t,e){x.__c&&x.__c(e,t),t.some(r=>{try{for(t=r.__h.length;t--;)r.__h.shift()()}catch(n){x.__e(n,r)}})}var Yr=0;function h(t,e,r){let n,o,i,s={};for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:s[i]=e[i];if(arguments.length>3)for(r=[r],i=3;arguments.length>i;i++)r.push(arguments[i]);return arguments.length>2&&(s.children=r),je(t,s,n,o,0)}function je(t,e,r,n,o){let i={type:t,props:e,key:r,ref:n,constructor:void 0,__v:o||++Yr};return x.vnode!=null&&x.vnode(i),i}function Nt(t){return t==null||typeof t=="boolean"?null:typeof t=="object"?Array.isArray(t)?je(O,{children:t},null,null,0):t:typeof t=="function"?t:t+""}function J(){return{current:null}}function O(t){return t.children}function Pe(t,e,r,n){if(t!==e){t&&Pe(null,t,null,n);try{typeof e=="function"?e(r):e&&(e.current=r)}catch(o){x.__e(o,n)}}}function ye(t,e,r){e[0]==="-"?t.style.setProperty(e,r):t.style[e]=r??""}function xe(t,e,r,n,o){let i;e:if(e==="style")if(typeof r=="string")ye(t,"cssText",r);else{if(typeof n=="string"&&ye(t,"cssText",n=""),n)for(e in n)r&&e in r||ye(t,e,"");for(e in r)n&&r[e]===n[e]||ye(t,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?kt:It,i):t.removeEventListener(e,i?kt:It,i);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function It(t){this.l[t.type+!1](x.event?x.event(t):t),this.t&&(this.value==null||t.type!=="input"&&t.type!=="change"||(this.value=this.u),this.checked!=null&&t.type==="change"&&(this.checked=this.u))}function kt(t){this.l[t.type+!0](x.event?x.event(t):t)}function Gt(t,e,r,n){let o,i,s=e.type,l=t?t.props:e.props;if(e&&e.__c?o=e.__c:(e.__c=o={props:l,context:n,forceUpdate:e.rerender.bind(null,e)},e.flags|=16384),t&&t.__v===e.__v)return o.props=l,void(e.flags|=32768);o.context=n,e.props=o.props=l,o.__i=e;let d=0;for(;25>d;)d++,e.flags&=-16385,(i=x.__r)&&i(e),i=s.call(o,o.props,o.context),16384&e.flags||(d=25);return e.flags&=-16385,o.getChildContext!=null&&(e.c=Object.assign({},r,o.getChildContext())),i}function Ot(t,e,r,n){let o,i,s,l,d,p,y=e.type,g=t?t.props:e.props;if(e&&e.__c?o=e.__c:(e.__c=o=new y(g,n),o.state||(o.state={}),i=!0,e.flags|=16384),o.__s==null&&(o.__s=o.state),y.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=Object.assign({},o.__s)),Object.assign(o.__s,y.getDerivedStateFromProps(g,o.__s))),s=o.props,l=o.state,i)y.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&_e(e,o.componentDidMount.bind(o));else{if(y.getDerivedStateFromProps==null&&g!==s&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(g,n),!(8192&e.flags)&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(g,o.__s,n)===!1||t&&t.__v===e.__v)return o.props=g,o.state=o.__s,void(e.flags|=32768);o.componentWillUpdate!=null&&o.componentWillUpdate(g,o.__s,n)}return o.context=n,e.props=o.props=g,o.state=o.__s,(p=x.__r)&&p(e),e.flags&=-16385,o.__i=e,p=o.render(o.props,o.state,o.context),o.state=o.__s,o.getChildContext!=null&&(e.c=Object.assign({},r,o.getChildContext())),i||(o.getSnapshotBeforeUpdate!=null&&(d=o.getSnapshotBeforeUpdate(s,l)),o.componentDidUpdate!=null&&_e(e,()=>{o.componentDidUpdate(s,l,d)})),p}var Wr=0,$e=new Set,$r=t=>{$e.delete(t)||$e.forEach(e=>{e.__c.s.delete(t)})},Ee=(t,e)=>{let r={__c:e="__cC"+Wr++,__:t,Consumer:(n,o)=>n.children(o),Provider(n,o){return this.s?n.value!==this.p&&this.s.forEach(Vt):(this.s=new Set,(o={})[e]=this,this.getChildContext=()=>o,$e.add(this.__i)),this.p=n.value,n.children}};return r.Provider.__=r.Consumer.contextType=r};function Bt(t,e,r){let n,o=0;if(x.unmount&&x.unmount(t),t.flags|=2048,(n=t.ref)&&(n.current&&n.current!==t.__e||Pe(null,n,null,e)),(n=t.__c)&&($r(t),n.componentWillUnmount))try{n.componentWillUnmount()}catch(i){x.__e(i,e)}if(n=t.__k)for(;n.length>o;o++)n[o]&&Bt(n[o],e,r?16&~t.flags:3&t.flags);!r&&3&t.flags&&t.__e.remove(),t.__e=null}function Ft(t,e,r,n){let o,i,s,l,d,p=r.__k&&r.__k.slice()||Xr,y=p.length,g=y,b=0,P=[];for(o=0;e.length>o;o++){if(d=Nt(e[o]),d==null){P[o]=null;continue}let A,R=o+b,a=jr(d,p,R,g);a===-1?l=void 0:(l=p[a],p[a]=void 0,g--);let u=l==null;u?(l=qe(d,r),be(t,d,l,n,Y(r,R))):(160&l.flags)==160?(A=l.ref,be(t,d,l,n,l.__e)):(A=l.ref,Ze(t,d,l,n)),i=l.__e,(d.ref||A)&&(s||(s=[]),l.ref=d.ref,s.push(A,d.ref,28&l.flags&&l.__c||i,l));e:if(u){if(a==-1&&b--,3&l.flags){let c=Y(r,R);t.insertBefore(l.__e,c)}}else if(a!==R){if(a===R+1){b++;break e}if(a>R){if(g>e.length-R){b+=a-R;break e}b--}else b=R>a&&a==R-1?a-R:0;if(R=o+b,a==o)break e;let c=Y(r,R+1);3&l.flags?t.insertBefore(l.__e,c):Ke(l,c,t)}P[o]=l}if(r.__k=P,g>0)for(o=y;o--;)p[o]!=null&&Bt(p[o],p[o]);if(s)for(o=0;s.length>o;o++)Pe(s[o],s[++o],s[++o],s[++o])}function jr(t,e,r,n){let o=typeof t=="string"?null:t.type,i=o!==null?t.key:void 0,s=-1,l=r-1,d=r+1,p=e[r];if(p===null||p!=null&&p.type===o&&p.key==i)s=r;else if(n>(p!=null?1:0))for(;;){if(l>=0){if(p=e[l],p!=null&&p.type===o&&p.key==i){s=l;break}l--}if(e.length>d){if(p=e[d],p!=null&&p.type===o&&p.key==i){s=d;break}d++}else if(0>l)break}return s}function Ke(t,e,r){if(t.__k!=null)for(let n=0;t.__k.length>n;n++){let o=t.__k[n];o&&(o.__=t,28&o.flags?Ke(o,e,r):o.__e!=e&&r.insertBefore(o.__e,e))}}function Ze(t,e,r,n){let o,i=r.__e,s=r.flags;if(1&s)return void(e!==r.props&&(i.data=e,r.props=e));if(e.constructor!==void 0)return null;x.__b&&x.__b(r,e),2&s&&(e.__v!==r.__v&&(Kr(i,e,r,n),r.__v=e.__v),x.diffed&&x.diffed(r),r.flags&=-42465);let l=t;16&s&&(t=e.props.__P,r.props.__P!==e.props.__P)&&Ke(r,t==l?Y(r):null,t);try{512&r.flags&&(r.flags^=1536);let d=Ut(r),p=e.type.contextType,y=p&&d[p.__c],g=p?y?y.props.value:p.__:d,b=!r||!r.__c;if(o=4&r.flags?Ot(e,r,d,g):Gt(e,r,d,g),32768&r.flags)r.props=e.props,r.flags&=-32769,e&&e.__v!==r.__v&&(r.flags&=-16385);else{let P=o!=null&&o.type===O&&o.key==null?o.props.children:o;r.__k==null?Je(t,Array.isArray(P)?P:[P],r,n,(160&r.flags)==160?r.__e:b||32&r.flags?null:Y(r)):Ft(t,Array.isArray(P)?P:[P],r,n)}r.__h!=null&&r.__h.length&&n.push(r)}catch(d){r.flags|=d.then?128:256,x.__e(d,r)}x.diffed&&x.diffed(r),r.flags&=-42465,r.__v=e.__v}function Kr(t,e,r,n){let o,i,s,l,d,p,y=r.props,g=r.props=e.props,b=4096&r.flags;for(o in y)i=y[o],o==="key"||o==="children"||(o==="dangerouslySetInnerHTML"?d=i:o in g||xe(t,o,null,i,b));for(o in g)i=g[o],o==="key"||(o==="children"?p=i:o==="dangerouslySetInnerHTML"?l=i:i===(s=y[o])&&(o!=="checked"&&o!=="value"||i==null||i===t[o])||xe(t,o,i,s,b));l?(i=l.__html,(!d||i!==d.__html&&i!==t.innerHTML)&&(t.innerHTML=i),r.__k=null):(d&&(t.innerHTML=""),Ft(t,p&&Array.isArray(p)?p:[p],r,n)),g.value!=null&&t.t?t.u=g.value:g.checked!=null&&t.t&&(t.u=g.checked)}function D(t,e){this.props=t,this.context=e}function Zr(t){if(2048&~t.flags&&16384&t.flags){let e=[];Ze(Xt(t),je(t.type,t.props,t.key,t.ref,0),t,e),Lt(e,t)}}D.prototype.setState=function(t,e){let r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Object.assign({},this.state),typeof t=="function"&&(t=t(Object.assign({},r),this.props)),t&&Object.assign(r,t),t!=null&&this.__i&&(e&&_e(this.__i,e.bind(this)),this.__i.rerender(this.__i))},D.prototype.forceUpdate=function(t){this.__i&&(this.__i.flags|=8192,t&&_e(this.__i,t.bind(this)),this.__i.rerender(this.__i))},D.prototype.render=O;var We,ge=[],qr=Promise.prototype.then.bind(Promise.resolve());function Vt(t){(16384&t.flags||!(t.flags|=16384)||!ge.push(t)||ve.__r++)&&We===x.debounceRendering||(We=x.debounceRendering,(We||qr)(ve))}function ve(){for(;Dt=ve.__r=ge.length;)for(ge.sort((t,e)=>t.__b-e.__b);Dt--;)Zr(ge.shift())}var Dt=ve.__r=0;function qe(t,e){let r,n,o,i=null,s=e?4192&e.flags:0,l=NaN;typeof t=="string"?(s|=1,r=t):t.constructor!==void 0?(s|=1,r=""):(i=t.type,r=t.props||{},n=t.key,o=t.ref,l=t.__v,s|=typeof i=="function"?i.prototype&&"render"in i.prototype?4:r.__P?16:8:2,2&s&&i==="svg"?s|=4096:e&&4096&e.flags&&e.type==="foreignObject"&&(s&=-4097));let d={type:i,props:r,key:n,ref:o,data:typeof i=="function"?{}:null,rerender:Vt,flags:s,__k:null,__:e,__v:l,__e:null,__c:null,c:null,__b:e?e.__b+1:0};return x.__i&&x.__i(d,t),d}var Ht=t=>28&t.flags&&(!(16&t.flags)||t.props.__P==Xt(t.__));function Y(t,e){return e==null?Y(t.__,t.__.__k.indexOf(t)+1):zt(t,e)||(t.__&&Ht(t)?Y(t):null)}function zt(t,e){if(t.__k==null)return null;for(e=e||0;t.__k.length>e;e++){let r=t.__k[e];if(r!=null){if(3&r.flags)return r.__e;if(Ht(r)){let n=zt(r);if(n)return n}}}return null}function Ut(t){let e=t.c,r=t.__;for(;e==null&&r;)e=r.c,r=r.__;return e}function Xt(t){let e=16&t.flags?t.props.__P:null,r=t.__;for(;e==null&&r;)16&r.flags?e=r.props.__P:2&r.flags&&(e=r.__e),r=r.__;return e}function be(t,e,r,n,o){let i;x.__b&&x.__b(r,e);try{if(28&r.flags){let s=o,l=t;16&r.flags&&(t=e.props.__P)!==l&&(o=null);let d=Ut(r),p=e.type.contextType,y=p&&d[p.__c],g=p?y?y.props.value:p.__:d;y&&y.s.add(r),i=4&r.flags?Ot(null,r,d,g):Gt(null,r,d,g);let b=i!=null&&i.type===O&&i.key==null?i.props.children:i;i=Je(t,Array.isArray(b)?b:[b],r,n,o),r.__h!=null&&r.__h.length&&n.push(r),16&r.flags&&l!==t&&(i=s)}else i=Jr(96&r.flags?o:null,r,n);x.diffed&&x.diffed(r),r.flags&=-42465}catch(s){r.__v=0,r.flags|=s.then?128:256,32&r.flags&&(i=o&&o.nextSibling,r.__e=o),x.__e(s,r)}return i}function Jr(t,e,r){let n,o,i=e.props,s=e.type,l=e.flags,d=4096&l,p=32&~l;if(96&l)for(;t&&(s?t.localName!==s:t.nodeType!==3);)t=t.nextSibling;let y=t==null;if(1&l)y?t=document.createTextNode(i):t.data!==i&&(t.data=i),e.__e=t;else{if(y&&(t=d?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s,i.is&&i),e.flags=l&=-42465,p=1),64&l)for(n=0;t.attributes.length>n;n++)o=t.attributes[n].name,o in i||t.removeAttribute(o);let g,b,P;for(n in e.type!=="input"&&e.type!=="textarea"&&e.type!=="select"||!i.onInput&&!i.onChange||(i.value!=null?(t.t=!0,t.u=i.value):i.checked!=null&&(t.t=!0,t.u=i.checked)),i)o=i[n],n==="key"||(n==="children"?P=o:n==="dangerouslySetInnerHTML"?g=o:n==="value"?b=o:o==null||!p&&typeof o!="function"||xe(t,n,o,null,d));e.__e=t,g?(p&&g.__html&&(t.innerHTML=g.__html),e.__k=null):P!=null&&Je(t,P&&Array.isArray(P)?P:[P],e,r,y?null:t.firstChild),p&&b!=null&&xe(t,"value",b,null,0)}return y?null:t.nextSibling}function Je(t,e,r,n,o){let i,s,l,d,p,y=r.__k=[];for(i=0;e.length>i;i++)s=Nt(e[i]),s!=null?(l=qe(s,r),y[i]=l,p=be(t,s,l,n,o),d=l.__e,28&l.flags||d==o?o=p:d!=null&&t.insertBefore(d,o),l.ref&&Pe(null,l.ref,l.__c||d,l)):y[i]=null;if(96&r.flags&&2&r.flags)for(;o;)i=o,o=o.nextSibling,i.remove();return o}function Qr(t){let e,r,n,o=0;function i(s){x.__&&x.__(s,t),s=h(O,{__P:t},[s]),n=t.firstChild,r=[],e?Ze(t,s,e,r):(e=qe(s),t.__k=e,n&&(o=o||64),t.ownerSVGElement!==void 0&&(o|=4096),e.flags|=o,e.c={},be(t,s,e,r,n)),Lt(r,e)}return{hydrate(s){o|=32,i(s)},render:i}}function Yt(t,e){let r=e&&e.__;r||(r=Qr(e)),r.render(t),e.__=r}function en(t){return t.children}function Wt(t,e){return h(en,{__P:e},t)}var w=class extends Error{code;isIntlError=!0;constructor(e,r){super(`${e} ${r}`),this.code=e}static is(e){return e?.isIntlError===!0}};X(w,"FORMAT_UNAVAILABLE","FormatUnavailable"),X(w,"INVALID_PARAMETER","InvalidParameter"),X(w,"KEY_NOT_FOUND","KeyNotFound"),X(w,"PARSE_ERROR","KeyNotFound");function qt(t,e,r){for(let n in t){if(n.startsWith("$"))continue;let o=t[n];switch(typeof o){case"string":e[r+n]=o;break;case"object":o!==null&&qt(o,e,`${r}${n}.`)}}return e}function tn(t){return qt(t,{},"")}function Qe(t,e){let r={};for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=e(t[n],n);o!=null&&(r[n]=o)}return r}function nt(t){return t[1]??"variable"}function ot(t,e){let r=t[0];return e!==void 0&&Object.prototype.hasOwnProperty.call(e,r)?""+e[r]:r}function it(t,e){let{length:r}=e,n=nt(t);if(t.length-2>r)throw new w(w.INVALID_PARAMETER,`too many parameters for format '${n}'`);for(let o=0;o<r;++o)e[o].call(null,t[2+o],n,o)}function rn(t,e,r){typeof t!="string"&&Jt("an identifier",e,r)}function nn(t,e,r){on(t)&&Array.isArray(sn(t))||Jt("a map of messages",e,r)}function on(t){return t!==null&&typeof t=="object"}function sn(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Jt(t,e,r){throw new w(w.INVALID_PARAMETER,`expected parameter ${r+1} of format '${e}' to be ${t}`)}var an={y(t,e){let r=t.getFullYear();return e===2&&(r%=100),V(r,e)},M(t,e,{monthsLong:r,monthsShort:n}){let o=t.getMonth();switch(e){case 1:case 2:return V(o+1,e);case 3:return ue(n),n[o];case 4:return ue(r),r[o];default:throw $t()}},d:(t,e)=>V(t.getDate(),e),E(t,e,{weekdaysLong:r,weekdaysShort:n}){let o=t.getDay();switch(e){case 1:case 2:case 3:return ue(n),n[o];case 4:return ue(r),r[o];default:throw $t()}},a:(t,e,{dayPeriod:r})=>(ue(r),r[t.getHours()>=12?1:0]),h(t,e){let r=t.getHours()%12;return V(r===0?12:r,e)},H:(t,e)=>V(t.getHours(),e),m:(t,e)=>V(t.getMinutes(),e),s:(t,e)=>V(t.getSeconds(),e),X(t,e){let r=t.getTimezoneOffset();if(r===0)return"Z";let n=Math.floor(Math.abs(r)/60),o=Math.abs(r)%60;return(r<0?"-":"+")+V(n)+(o!==0||e>1?(e>2?":":"")+V(o):"")}};function ue(t){if(t==null)throw new w(w.FORMAT_UNAVAILABLE,"Cannot use some DateTime formats; Required translations are missing.")}function $t(){return new w(w.FORMAT_UNAVAILABLE,"DateTime format not supported.")}function V(t,e=2){return(""+t).padStart(e,"0")}function ln(t,e,r){let n;switch(typeof e){case"number":case"string":n=new Date(e);break;case"object":if(e!==null&&e instanceof Date){n=e;break}default:throw new w(w.INVALID_PARAMETER,"invalid date")}let o,i="",s=0;for(;s<t.length;)o=t[s++],i+=typeof o=="function"?o(n,t[s++],r):o;return i}function un(t){let e=[],{length:r}=t;if(r===0)return()=>"";let n=0,o=0,i=!1,s=t.charCodeAt(0),l=p=>{let y=e.length-1;y>=0&&typeof e[y]=="string"?e[y]+=p:e.push(p)},d=()=>{let p=t.slice(o,n);if(i)l(p||"'");else if(s>=65&&s<=90||s>=97&&s<=122){let y=an[p[0]];y&&e.push(y,p.length)}else l(p);o=n};for(;n<r;){let p=t.charCodeAt(n);p===39?(d(),t.charCodeAt(n+1)===39?(l("'"),o+=2,++n):(i=!i,++o)):i||p===s||d(),s=p,++n}return d(),ln.bind(null,e)}var dn=[rn],jt=t=>{let e=Qe(t.formats,un);return r=>{it(r,dn);let n=e[r[2]];if(!n)throw new w(w.INVALID_PARAMETER,`DateTime format '${r[2]}' is not configured.`);return o=>n(ot(r,o),t)}},pn=[nn],cn=()=>(t,e)=>{it(t,pn);let r=t[2];if(!r.other)throw new w(w.INVALID_PARAMETER,`messages of format '${nt(t)}' must contain the key 'other'`);let n={};for(let o in r)n[o]=e.interpret(r[o]);return o=>(n[ot(t,o)]??n.other)(o)},hn=[],fn=()=>t=>(it(t,hn),e=>ot(t,e)),mn={select:cn,variable:fn,date:jt,time:jt},B=class extends w{input;at;constructor(e,r,n){super(w.PARSE_ERROR,e),this.input=r,this.at=n}toString(){let e=Math.max(this.input.lastIndexOf(`
`,this.at-1),0)+1,r=this.input.indexOf(`
`,this.at+1);r===-1?r=this.input.length:this.input[r-1]==="\r"&&--r;let n=`${this.input.slice(e,r)}
${" ".repeat(this.at-e)}^`;return`${this.message} at pos ${this.at}:

${n}

${this.stack}`}};function Qt(t){return t===32||t>=9&&t<=13||t===133||t===160||t===6158||t>=8192&&t<=8205||t===8232||t===8233||t===8239||t===8287||t===8288||t===12288||t===65279}function H(t,e){let{length:r}=t,n=e;for(;n<r&&Qt(t.charCodeAt(n));)++n;return n}function de(t,e){let{length:r}=t,n,o=e;for(;o<r&&(n=t[o],n!=="{"&&n!=="}"&&n!==","&&n!=="#"&&n!=="'"&&n!==":"&&!Qt(n.charCodeAt(0)));)++o;if(e===o)throw new B(`expected an identifier but ${n?`saw '${n}'`:"saw the end of pattern"} instead`,t,e);return t.slice(e,o)}function Kt(t,e,r){let{length:n}=t,o,i=e,s=e,l="";for(;s<n&&(o=t[s],!(o==="{"||o==="}"||r&&o==="#"));){if(o==="'"){if(o=t[++s],o==="'")l+=t.slice(i,s),i=s+1;else if(o==="{"||o==="}"||r&&o==="#"){for(l+=t.slice(i,s-1),i=s;++s<n;)if(o=t[s],o==="'"){if(o=t[s+1],o!=="'")break;l+=t.slice(i,++s),i=s+1}l+=t.slice(i,s),i=++s}}++s}return l+=t.slice(i,s),l}function er(t,e,r,n){let{length:o}=t,i={};r.push(i);let s,l=n,d=[],p=et(t,e,d,!0);for(i[l]=d;p<o&&(p=H(t,p),s=t[p],s!==","&&s!=="}");){if(l=de(t,p),p=H(t,p+l.length),s=t[p],s!=="{")throw new B("expected '{'",t,p);d=[],p=et(t,p+1,d,!0),i[l]=d}return p}function yn(t,e,r,n){let{length:o}=t,i={};r.push(i);let s,l=n,d=H(t,e),p=de(t,d);for(d+=p.length,i[l]=p;d<o&&(d=H(t,d),s=t[d],s!==","&&s!=="}");){if(l=de(t,d),d=H(t,d+l.length),s=t[d],s==="{")return er(t,d+1,r,l);if(s!==":")throw new B("expected ':' or '{'",t,d);d=H(t,d+1),p=de(t,d),d+=p.length,i[l]=p}return d}function gn(t,e,r){let n=e,o=t[n];if(o==="#")return r.push("#"),n+1;if(o!=="{")throw new B("expected '#' or '{'",t,n);let{length:i}=t;do{n=H(t,n+1);let s=de(t,n);switch(n=H(t,n+s.length),o=t[n],o){case",":case"}":r.push(s);break;case"{":if(r.length<2)throw new B("expected an identifier but saw a message instead",t,n);n=er(t,n+1,r,s),o=t[n];break;case":":if(r.length<2)throw new B("expected an identifier but saw an attribute instead",t,n);n=yn(t,n+1,r,s),o=t[n];break;default:throw new B(`unexpected character '${o}'`,t,n)}}while(n<i&&o!=="}");return n+1}function et(t,e,r,n){let o,i=e,s=Kt(t,i,n);s&&(r.push(s),i+=s.length);let{length:l}=t;for(;i<l;){if(o=t[i],o==="}"){if(!n)throw new B("unexpected '}'",t,i);++i;break}let d=[];i=gn(t,i,d),r.push(d),s=Kt(t,i,n),s&&(r.push(s),i+=s.length)}return i}function Zt(t){let e=[];return et(t,0,e,!1),e}var tt=class{formatProvider;constructor(e){this.formatProvider=e}interpret(e,r){let{length:n}=e;if(n===1)return this.interpretElement(e[0],r);let o=new Array(n);for(let i=0;i<n;++i)o[i]=this.interpretElement(e[i],r);return _n.bind(null,o)}interpretElement(e,r){if(typeof e=="string")return()=>e;let n=e;if(n.length===1&&n[0]==="#"){if(r===void 0)return()=>"#";n=[r]}return this.formatProvider.getFormat(n)(n,this)}};function _n(t,e){let r="";for(let n=0;n<t.length;++n)r+=t[n](e);return r}var rt=class{formatMap;constructor(e){this.formatMap=e}getFormat(e){let r=nt(e),n=this.formatMap[r];if(!n)throw new w(w.FORMAT_UNAVAILABLE,r);return n}},Q;(function(t){t[t.Eager=0]="Eager",t[t.Lazy=1]="Lazy",t[t.Off=2]="Off"})(Q||(Q={}));var ee=class{cacheMode;expansions;interpreter;constructor({cacheMode:e,interpreter:r,translations:n}){this.cacheMode=e??Q.Lazy,this.interpreter=r,this.expansions=tn(n),e===Q.Eager&&(this.expansions=Qe(this.expansions,o=>r.interpret(Zt(o))))}expand(e,r){let n=this.expansions[e];if(n===void 0)throw new w(w.KEY_NOT_FOUND,e);return typeof n=="string"&&(n=this.interpreter.interpret(Zt(n)),this.cacheMode!==Q.Off&&(this.expansions[e]=n)),n(r)}static fromLocale(e,r=mn){let n=Qe(r,(i,s)=>!e.$format?.[s]&&i.length>0?null:i(e.$format?.[s])),o=new rt(n);return new ee({cacheMode:Q.Lazy,interpreter:new tt(o),translations:e})}};var te,M,st;Promise.prototype.then.bind(Promise.resolve());var at,lt=0,ar=[],tr=x.__b,rr=x.__r,nr=x.diffed,or=x.__c,ir=x.unmount;function pe(t,e){x.__h&&x.__h(M,t,lt||e),lt=0;let r=M.data.__H||(M.data.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function N(t){return lt=1,xn(ur,t)}function xn(t,e,r){let n=pe(te++,2);return n.t=t,n.__i||(n.__=[r?r(e):ur(void 0,e),o=>{let i=n.t(n.__[0],o);n.__[0]!==i&&(n.__=[i,n.__[1]],n.__i.rerender(n.__i))}],n.__i=M),n.__}function Te(t,e){let r=pe(te++,3);!x.__s&&dt(r.__H,e)&&(r.__=t,r.o=e,M.data.__H.__h.push(r))}function lr(t,e){let r=pe(te++,4);!x.__s&&dt(r.__H,e)&&(r.__=t,r.o=e,M.__h==null&&(M.__h=[]),M.__h.push(r))}function we(t,e){let r=pe(te++,7);return dt(r.__H,e)?(r.i=t(),r.o=e,r.__h=t,r.i):r.__}function Ae(t){let e=function(n){let o=M.c,i=M.__;for(;o==null&&i;)o=i.c,i=i.__;return o}()[t.__c],r=pe(te++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.s.add(M)),e.props.value):t.__}x.__b=(t,e)=>{M=null,tr&&tr(t,e)},x.__r=t=>{rr&&rr(t),M=t,te=0,M.data&&M.data.__H&&(st===M?(M.data.__H.__h=[],M.__h=[],M.data.__H.__.forEach(e=>{e.o&&(e.o=void 0),e.i&&(e.i=void 0)})):(t.data&&t.data.__H&&t.data&&t.data.__H.__.forEach(e=>{e.o&&(e.__H=e.o,e.o=void 0),e.i&&(e.__=e.i,e.i=void 0)}),M.data.__H.__h.forEach(Se),M.data.__H.__h.forEach(ut),M.data.__H.__h=[])),st=t},x.diffed=t=>{nr&&nr(t),st=void 0,t.data&&t.data.__H&&t.data.__H.__h.length&&(ar.push(t)!==1&&at===x.requestAnimationFrame||(at=x.requestAnimationFrame,(at||Pn)(bn)))},x.__c=(t,e)=>{e.some(r=>{try{r.data&&r.data.__H&&r.data&&r.data.__H.__.forEach(n=>{n.o&&(n.__H=n.o,n.o=void 0),n.i&&(n.__=n.i,n.i=void 0)}),r.__h.forEach(Se),r.__h=r.__h.filter(n=>!n.__||ut(n))}catch(n){e.some(o=>{o.__h&&(o.__h=[])}),e=[],x.__e(n,r)}}),or&&or(t,e)},x.unmount=t=>{if(ir&&ir(t),t.data&&t.data.__H){let e;t.data.__H.__.forEach(r=>{try{Se(r)}catch(n){e=n}}),e&&x.__e(e,t)}};var vn=x.__e;function bn(){let t;for(;t=ar.shift();)if(2048&~t.flags)try{t.data.__H.__h.forEach(Se),t.data.__H.__h.forEach(ut),t.data.__H.__h=[]}catch(e){t.data.__H.__h=[],x.__e(e,t)}}x.__e=function(t,e){let r=e;for(;r=r.__;)if(r.data&&r.data.__e)return r.data.__e(t,e);vn(t,e)};var sr=typeof requestAnimationFrame=="function";function Pn(t){let e=()=>{clearTimeout(r),sr&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(e,100),n;sr&&(n=requestAnimationFrame(e))}function Se(t){let e=M,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),M=e}function ut(t){let e=M;t.__c=t.__(),M=e}function dt(t,e){return!t||t.length!==e.length||e.some((r,n)=>r!==t[n])}function ur(t,e){return typeof e=="function"?e(t):e}function dr(t){return"⚠️ "+t}var pt={isLoading:!0,t:()=>""},En={isLoading:!1,t:()=>dr("LocaleFetchError")},Re=Ee(pt);function ct(){return Ae(Re)}var re=class extends D{state=pt;pendingFetch;componentDidMount(){this.fetchLocale()}componentDidUpdate(e){let r=this.props;e.url!==r.url&&this.fetchLocale()}componentWillUnmount(){this.pendingFetch?.abort()}render(){return h(Re.Provider,{children:this.props.children,value:this.state})}async fetchLocale(){try{this.setState(pt),this.pendingFetch=new AbortController;let e=await fetch(this.props.url,{credentials:this.props.fetchCredentials,headers:this.props.fetchHeaders,method:"GET",signal:this.pendingFetch.signal});if(!e.ok)throw new Error(`unexpected HTTP response ${e.status} - ${e.statusText}`);let r=await e.json(),n=ee.fromLocale(r,this.props.formats);this.setState({isLoading:!1,t:Sn.bind(null,n)})}catch(e){this.setState(En),this.props.onError?.(e)}finally{this.pendingFetch=void 0}}};function Sn(t,e,r,n){let o,i,s;if(typeof e=="string")o=e,typeof r=="string"?s=r:(i=r,s=n);else{if(function(l){return typeof l.text=="string"}(e))return e.text;o=e.key,i=e.vars,s=e.fallbackText}try{return t.expand(o,i)}catch(l){return s===void 0?dr(w.is(l)?l.message:"UnknownError"):s}}function W(t,e){return`${t}--${e}`}function L(t,e){let r=t;for(let n in e)e[n]&&(r+=` ${W(t,n)}`);return r}function F(){let{length:t}=arguments,e="";for(let r,n=0;n<t;++n)(r=arguments[n])&&(e+=(e&&" ")+r);return e}function $(t){return Math.trunc(t)+"px"}function ht(t){return Math.round(t*1e3)/10+"%"}var ce=({children:t,class:e,type:r="button",...n})=>h("button",{...n,class:F("button",e),type:r},t),ft=({class:t,glyph:e,...r})=>h(ce,{...r,class:F(W("button","icon"),t)},e);function Ce(t){let e=t[0]==="-",r=e?1:0;for(;r<t.length&&t[r]==="0";)++r;let n=r;for(;r<t.length&&t[r]!==".";)++r;let o=r;for(r=t.length-1;r>o&&t[r]==="0";)--r;let i=r===o?r:r+1,s=t.slice(n,i);return n===i?{input:t,sign:0,size:1,value:"0"}:{input:t,sign:e?-1:1,size:Math.max(o-n,1),value:(e?"-":"")+(n===o&&o!==i?"0":"")+s}}function mt(t,e){if(t.sign!==e.sign)return t.sign===0&&e.sign===0?0:t.sign;if(t.size!==e.size)return t.sign*(t.size-e.size);let r=Math.max(-t.sign,0),n,o=r+t.size;do n=t.value.charCodeAt(r)-e.value.charCodeAt(r);while(n===0&&++r<o);let i=Math.max(t.value.length,e.value.length);for(;n===0&&++r<i;)n=(r<t.value.length?t.value.charCodeAt(r):48)-(r<e.value.length?e.value.charCodeAt(r):48);return t.sign*n}var cr=/^\s*-?[0-9\s]*(?:\s*[.,][0-9\s]*)?$/,hr={sign:"",significant:"0",separator:"",fractional:"",concat:"0"},Me=class extends D{state={uiValue:""};inputRef=J();caret={index:0};uiValueParsed=hr;isEmpty=!0;minValue;maxValue;render(e,{uiValue:r}){let{groupBy:n=0,maxFractional:o=-1}=e;e.minValue&&e.minValue!==this.minValue?.input&&(this.minValue=Ce(e.minValue)),e.maxValue&&e.maxValue!==this.maxValue?.input&&(this.maxValue=Ce(e.maxValue));let i=this.minValue&&this.maxValue?Math.max(this.minValue.size,this.maxValue.size):e.maxSignificant??-1;this.caret.index=this.inputRef.current?.selectionStart??0,this.isEmpty=!r||r==="0"||r==="-0",this.uiValueParsed=Tn(r,i,o,this.caret);let s=(n>0?pr(this.uiValueParsed.significant,n,0,this.caret):this.uiValueParsed.significant)+this.uiValueParsed.separator+this.uiValueParsed.fractional;return h("div",{class:"number-input",onPointerDown:this.onDelegateFocus},h("span",{onClick:this.onToggleSign,children:this.uiValueParsed.sign?"- ":"+ ",class:F("number-input__placeholder",L("number-input__sign",{negative:!!this.uiValueParsed.sign}))}),(()=>{let l=this.uiValueParsed.significant.length;if(l>=i)return null;let d="0".repeat(i-l);return h("span",{class:"number-input__placeholder"},n>0?pr(d,n,l):d)})(),h("div",{class:"number-input__input-wrapper"},h("span",{class:"number-input__placeholder number-input__measurement"},s),h("input",{class:"number-input__input",ref:this.inputRef,type:"text",inputMode:"decimal",value:s,onBlur:this.onLostFocus,onbeforeinput:this.onBeforeInput,onInput:this.onInput})),this.uiValueParsed.fractional.length<o?h("span",{class:"number-input__placeholder"},(this.uiValueParsed.separator?"":".")+"0".repeat(o-this.uiValueParsed.fractional.length)):null)}componentDidUpdate(){this.inputRef.current&&this.inputRef.current===document.activeElement&&this.inputRef.current.setSelectionRange(this.caret.index,this.caret.index)}onDelegateFocus=e=>{if(this.inputRef.current&&e.target!==this.inputRef.current){e.preventDefault(),this.inputRef.current.focus();let r=this.inputRef.current.getBoundingClientRect(),n=e.x<(r.left+r.right)/2?0:this.inputRef.current.value.length;this.inputRef.current.setSelectionRange(n,n)}};onLostFocus=()=>{let e=Ce(this.uiValueParsed.sign+this.uiValueParsed.concat),r=e;this.minValue&&mt(r,this.minValue)<0?r=this.minValue:this.maxValue&&mt(r,this.maxValue)>0&&(r=this.maxValue),r!==e&&this.setState({uiValue:r.value}),this.props.onChange(r.value)};onToggleSign=()=>{let e=this.inputRef.current?.value??"0";this.setState({uiValue:(this.uiValueParsed.sign?"":"-")+e})};onBeforeInput=e=>{if(e.target!==this.inputRef.current)return;let r=this.inputRef.current,n=r.value,o=r.selectionStart??n.length,i=r.selectionEnd??n.length;if(!e.data){e.inputType==="deleteContentBackward"&&this.uiValueParsed.sign&&(o===0||this.isEmpty&&o===n.length)&&(e.preventDefault(),this.onToggleSign());return}if(e.data==="-"&&!this.uiValueParsed.sign&&(o===0||this.isEmpty)){e.preventDefault(),this.onToggleSign();return}let s=n.slice(0,o)+e.data+n.slice(i);cr.test(s)||e.preventDefault()};onInput=e=>{if(e.target!==this.inputRef.current)return;let r=this.inputRef.current.value;this.isEmpty&&this.inputRef.current.selectionStart===r.length&&/^0[^0]/.test(r)&&(r=r.slice(1)),this.setState({uiValue:this.uiValueParsed.sign+r})}};function Tn(t,e,r,n){if(!t||!cr.test(t))return n.index=1,hr;let o="",i="",s=-1,l="",d=0,p=0,y=0,g=0,b=()=>{l+=t.slice(d,p),d=p+1};for(;p<t.length;){let R=t.charCodeAt(p);R===46||R===44?(i=".",s=p-g):(R<48||R>57)&&(b(),++g,R===45?o="-":p<n.index&&++y),++p}b(),n.index-=y,s===-1&&(s=l.length);let P=l.slice(0,s)||"0";e>=1&&(n.index>e&&(n.index-=Math.max(P.length-e,0)),P=P.slice(0,e));let A=l.slice(s+1);return r>=0&&(A=A.slice(0,r),r===0&&(i="")),{sign:o,separator:i,significant:P,fractional:A,concat:l}}function pr(t,e,r,n){let o=t,i=t.length+(r-1)%e+1;for(;i>e;)i-=e,o=o.slice(0,i)+" "+o.slice(i),n&&i<n.index&&++n.index;return o}function fr(t){let e=we(wn,[]);return e.ref=t,e}function yt(t,e){t&&(typeof t=="function"?t(e):t.current=e)}function wn(){let t=null,e=null;return{get ref(){return t},set ref(r){r!==t&&(t&&yt(t,null),t=r,t&&yt(t,e))},get current(){return e},set current(r){e=r,t&&yt(t,r)}}}function ne(t,e){if(!e)return!1;let r=t;for(;r&&r!==e;)r=r.parentNode;return r&&r===e}var An={capture:!1,passive:!0};function gt(t,e,r,n=An){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}var _t=Ee(null),Ie=({children:t})=>{let[e,r]=N(null);return h(_t.Provider,{value:e},t,h("div",{class:"popup-provider",ref:r}))};function j(t,e=0,r=1){return t<e?e:t>r?r:t}var oe={popupAnchorX:.5,popupAnchorY:0,targetAnchorX:.5,targetAnchorY:1};function gr(t,e,r){let n=t.getBoundingClientRect(),o=e?.getBoundingClientRect(),i=window.innerWidth,s=window.innerHeight,l=mr({popupAnchor:r.popupAnchorX??oe.popupAnchorX,popupSize:n.width,targetAnchor:r.targetAnchorX??oe.targetAnchorX,targetPosition:o?.left??0,targetSize:o?.width??i,viewOffset:window.scrollX,viewSize:i}),d=mr({popupAnchor:r.popupAnchorY??oe.popupAnchorY,popupSize:n.height,targetAnchor:r.targetAnchorY??oe.targetAnchorY,targetPosition:o?.top??0,targetSize:o?.height??s,viewOffset:window.scrollY,viewSize:s});return{maxWidth:$(l.maxSize),left:l.anchor<=.5?$(l.lower):"unset",right:l.anchor>.5?$(l.upper):"unset",maxHeight:$(d.maxSize),top:d.anchor<=.5?$(d.lower):"unset",bottom:d.anchor>.5?$(d.upper):"unset",transformOrigin:`${ht(l.anchor)} ${ht(d.anchor)}`}}function mr(t,e=1.33){let r=yr(t);if(r.maxSize-t.popupSize>0)return r;let n=yr({...t,popupAnchor:1-t.popupAnchor,targetAnchor:1-t.targetAnchor});return n.maxSize/r.maxSize>e?n:r}function yr(t){let e=j(t.targetPosition+t.targetSize*t.targetAnchor,0,t.viewSize),r=Math.max(t.popupAnchor>0?e/t.popupAnchor:0,t.popupAnchor<1?(t.viewSize-e)/(1-t.popupAnchor):0);return{anchor:t.popupAnchor,lower:t.viewOffset+e-r*t.popupAnchor,upper:t.viewOffset+t.viewSize-e+r*(1-t.popupAnchor),maxSize:r}}var xt=({children:t,class:e,hot:r=!1,open:n=!1,overlay:o=!1,positioning:i=oe,ref:s,target:l,onCloseRequested:d})=>{let p=Ae(_t),[y,g]=N(!1),b=fr(s);if(Te(()=>n&&d?gt(window,"pointerdown",R=>{ne(R.target,b.current)||d(R)},{capture:!0}):void 0,[n,d]),lr(()=>{let A=b.current;if(!n&&y&&A)return A.classList.remove("popup--open"),gt(A,"transitionend",()=>g(!1),{once:!0});if(A){let R=gr(A,l,i);Object.assign(A.style,R),A.classList.add("popup--open"),g(!0)}},[n,l]),!((n||y||r)&&p))return null;let P={open:y};return Wt(h(O,null,o&&h("div",{class:L("popup-overlay",P)}),h("div",{class:F(L("popup",P),e),ref:b},typeof t=="function"?t():t)),p)};var Rn=100,ke="scroll-indicator",De=class extends D{activityDebounceHandle;indicator=null;parent;render(){return h("div",{ref:this.onScrollIndicatorRef,class:L(ke,{horizontal:this.props.horizontal,vertical:!this.props.horizontal})})}componentWillUnmount(){clearTimeout(this.activityDebounceHandle)}onScrollIndicatorRef=e=>{this.indicator=e;let r=e?.parentElement;this.parent!==r&&(this.parent?.removeEventListener("scroll",this.onScroll),this.parent=r,r&&(r.addEventListener("scroll",this.onScroll,{passive:!0}),this.onScroll()))};onScroll=()=>{let e=this.parent,r=this.indicator,n,o,i;this.props.horizontal?(n=e.clientWidth,o=e.scrollWidth,i=e.scrollLeft):(n=e.clientHeight,o=e.scrollHeight,i=e.scrollTop);let s=n<o;s&&(r.style.setProperty("--scroll-indicator__offset",""+i/o),r.style.setProperty("--scroll-indicator__proportion",""+n/o),r.classList.add(W(ke,"active")),clearTimeout(this.activityDebounceHandle),this.activityDebounceHandle=setTimeout(this.onInactive,Rn)),r.classList.toggle(W(ke,"visible"),s)};onInactive=()=>{this.indicator?.classList.remove(W(ke,"active"))}};var he=class extends D{state={navIndex:0,navSource:"self",isOpen:!1,search:""};wrapperRef=J();inputRef=J();listRef=J();filteredOptions=null;render({options:e,value:r},{navIndex:n,isOpen:o,search:i}){let s=()=>{let d=i.toLowerCase(),p=[];this.filteredOptions=[];for(let y=0;y<e.length;++y){let g=e[y],b=g.title??""+g.value,P=-1;if(i&&(P=b.toLowerCase().indexOf(d))===-1)continue;let A=P+d.length;p.push(h("li",{key:y,tabIndex:-1,onClick:()=>this.selectOption(g),onPointerMove:this.onOptionPointerEnter,class:L("select__list__option",{selected:g.value===r,nav:n===this.filteredOptions.length})},P===-1?b:h(O,null,b.slice(0,P),h("span",{class:"select__search"},b.slice(P,A)),b.slice(A)))),this.filteredOptions.push(g)}return p.length===0&&i&&p.push(h("li",{class:"select__list__no-results"},this.context?.t("component.select.no-results"))),h(O,null,h("ul",{class:"select__list",ref:this.listRef},p),h(De,null))},l=e.find(d=>d.value===r);return h("div",{class:L("select",{open:o}),ref:this.wrapperRef,onfocusout:this.onFocusOut},h("input",{class:"select__input",type:"text",ref:this.inputRef,onKeyDown:this.onKeyDown,onInput:this.onInput,onClick:()=>this.toggleDropdown(),placeholder:l?l.title??""+l.value:"",value:o?i:""}),h(xt,{class:"select__popup",open:o,target:this.wrapperRef.current,onCloseRequested:this.onPopupCloseRequested},s))}componentDidUpdate(){let e;this.state.isOpen&&this.state.navSource!=="pointer"&&(e=this.listRef.current?.children[this.state.navIndex])&&Cn(e)}toggleDropdown(e=!this.state.isOpen){if(this.state.isOpen===e)return;let r={isOpen:e};e&&(r.search="",r.navIndex=Math.max(this.props.options.findIndex(n=>n.value===this.props.value),0),r.navSource="self"),this.setState(r)}selectOption(e){this.props.onChange(e.value),this.toggleDropdown(!1),this.inputRef.current?.focus()}onPopupCloseRequested=e=>{ne(e.target,this.wrapperRef.current)||(e.preventDefault(),this.toggleDropdown(!1))};onFocusOut=e=>{e.relatedTarget&&!(ne(e.relatedTarget,this.listRef.current)||ne(e.relatedTarget,this.wrapperRef.current))&&this.toggleDropdown(!1)};onOptionPointerEnter=e=>{let r=this.listRef.current?.children;if(r){for(let n=0;n<r.length;++n)if(r[n]===e.target){n!==this.state.navIndex&&this.setState({navIndex:n,navSource:"pointer"});break}}};onInput=()=>{this.setState({isOpen:!0,search:this.inputRef.current?.value,navIndex:0,navSource:"self"})};onKeyDown=e=>{let r=this.filteredOptions??this.props.options,{isOpen:n,navIndex:o}=this.state;switch(e.code){case"ArrowUp":n||this.toggleDropdown(!0),this.setState({navIndex:Math.max(o-1,0),navSource:"arrows"});break;case"ArrowDown":n||this.toggleDropdown(!0),this.setState({navIndex:Math.min(o+1,r.length-1),navSource:"arrows"});break;case"Enter":case"NumpadEnter":{let i=r[o];this.state.isOpen&&i&&this.selectOption(i);break}case"Escape":this.toggleDropdown(!1);break;default:return}e.preventDefault()}};X(he,"contextType",Re);function Cn(t){let e;if(!(e=t.offsetParent))return;let r=t.offsetTop,n=e.scrollTop;if(n>r){e.scrollTo(0,r);return}let o=t.offsetHeight,i=e.offsetHeight;n+i<r+o&&e.scrollTo(0,r+o-i)}var _r=({points:t,resolution:e=100})=>{let r=we(()=>{let n=e/2,o="";for(let i=0;i<t.length;i+=2)o+=`${Math.round(n+t[i]*n)},${Math.round(n+t[i+1]*n)} `;return o},[t,e]);return h("svg",{class:"shape-preview",viewBox:`0 0 ${e} ${e}`},h("polygon",{points:r}))};var xr=({onChange:t,value:e,shapes:r})=>{let{t:n}=ct();return h("div",{class:"shape-picker"},r.map(o=>h("button",{class:L("shape-picker__button",{selected:o.key===e}),type:"button",key:o.key,onClick:()=>t(o.key),title:n(`shapes.${o.key}`)},h(_r,{points:o.points}))))};var vr=1,br=0,Mn=.01,In=3,Le=class extends D{pointerId;sliderLayout=null;sliderRef=null;startX=0;render({class:e}){return h("div",{class:F("slider",e),tabIndex:0,ref:this.onSliderRef,onPointerDown:this.onPointerDown,onPointerMove:this.onPointerMove,onPointerUp:this.onPointerUpOrCancel,onPointerCancel:this.onPointerUpOrCancel,onKeyDown:this.onKeyDown},h("div",{class:"slider__thumb"}))}shouldComponentUpdate(e){return this.updateCssVar(this.getValue(e)),!1}componentDidMount(){this.updateCssVar()}getValue(e=this.props){let{maxValue:r=vr,minValue:n=br}=e,o=r-n;return Math.abs(o)>Number.EPSILON?j((e.value-n)/o):0}setValue(e,r=this.props){let{maxValue:n=vr,minValue:o=br}=r,i=j(e);this.updateCssVar(i);let s=o+i*(n-o);Math.abs(s-r.value)>Number.EPSILON&&r.onChange(s)}updateCssVar(e=this.getValue()){this.sliderRef?.style.setProperty("--slider__value",""+e)}onKeyDown=e=>{let{change:r=Mn}=this.props;switch(e.code){case"ArrowLeft":this.setValue(this.getValue()-r);break;case"ArrowRight":this.setValue(this.getValue()+r);break}};onPointerDown=e=>{this.pointerId=e.pointerId,this.sliderLayout=this.sliderRef.getBoundingClientRect(),this.startX=e.clientX,this.sliderRef.setPointerCapture(e.pointerId),this.sliderRef.classList.add("slider--active"),this.onPointerMove(e)};onPointerMove=e=>{if(e.pointerId===this.pointerId){let{height:r,left:n,width:o}=this.sliderLayout;this.setValue((e.clientX-n-r/2)/(o-r)),Math.abs(e.clientX-this.startX)>In&&this.sliderRef.classList.add("slider--drag")}};onPointerUpOrCancel=e=>{e.pointerId===this.pointerId&&(this.sliderRef.classList.remove("slider--active","slider--drag"),this.sliderRef.releasePointerCapture(e.pointerId),this.pointerId=void 0,this.sliderLayout=null)};onSliderRef=e=>{this.sliderRef=e}};var Pr=({onChange:t,value:e})=>h("button",{class:L("switch",{on:e}),onClick:()=>t(!e)},h("div",{class:"switch__thumb"}));var Ne=({onChange:t,value:e})=>h("div",{class:"text-input"},h("input",{class:"text-input__input",type:"text",onChange:r=>t(r.target.value),value:e}));function Ge(){Te(()=>{let t,e,r=l=>{l.defaultPrevented&&(t=l.pointerId)},n=l=>{l.pointerId===t&&(t=void 0,e=l.timeStamp)},o=l=>{e!==void 0&&l.timeStamp-e<Number.EPSILON&&(l.preventDefault(),l.stopImmediatePropagation(),e=void 0)},i={passive:!0},s={capture:!0};return window.addEventListener("pointerdown",r,i),window.addEventListener("pointerup",n,i),window.addEventListener("click",o,s),()=>{window.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",n),window.removeEventListener("click",o,s)}},[])}var fe=[{key:"circle",points:[.85,0,.821,-.22,.736,-.425,.601,-.601,.425,-.736,.22,-.821,0,-.85,-.22,-.821,-.425,-.736,-.601,-.601,-.736,-.425,-.821,-.22,-.85,-0,-.821,.22,-.736,.425,-.601,.601,-.425,.736,-.22,.821,-0,.85,.22,.821,.425,.736,.601,.601,.736,.425,.821,.22]},{key:"square",points:[.85,-.85,-.85,-.85,-.85,.85,.85,.85]},{key:"diamond",points:[1,0,0,-1,-1,-0,-0,1]},{key:"triangle",points:[1,-.85,-1,-.85,-0,.85]},{key:"star",points:[.577,0,.866,-.5,.289,-.5,0,-1,-.289,-.5,-.866,-.5,-.577,-0,-.866,.5,-.289,.5,-0,1,.289,.5,.866,.5]}];var kn=new Array(25).fill(0).map((t,e)=>({value:e+1})),Er=()=>{Ge();let[t,e]=N(""),[r,n]=N("0.000"),[o,i]=N(1),[s,l]=N(!1),[d,p]=N(""),[y,g]=N(.5);return h(re,{url:"./locale/en.json"},h(Ie,null,h(ce,null,"Regular Button"),h(ft,{glyph:"♻️"}),h(Ne,{value:t,onChange:e}),h(Me,{value:r,onChange:n}),h(he,{options:kn,value:o,onChange:i}),h(Pr,{value:s,onChange:l}),h(xr,{shapes:fe,value:d,onChange:p}),h(Le,{value:y,onChange:g})))};function K(){this.t=[]}function z(){this.i=new Set,this.u=[]}K.prototype.o=null,K.prototype.h=function(){return this.o||(this.o=this.t.slice()),this.o},K.prototype.l=function(t){this.t.push(t),this.o=null},K.prototype.g=function(){return this.t.length!==0&&(this.t=[],this.o=null,!0)},K.prototype.m=function(){return this.t.length},K.prototype.P=function(t){let{t:e}=this,r,n=e.length-1;for(;n>=0&&(r=e[n],r!==t&&r.p!==t);)--n;return n!==-1&&(this.t.splice(n,1),this.o=null,!0)},K.prototype.v=function(t){let e=this.t.lastIndexOf(t);e!==-1&&(this.t.splice(e,1),this.o=null)},z.prototype.o=null,z.prototype.h=function(){return this.o||(this.o=Array.from(this.i.values()).concat(this.u)),this.o},z.prototype.l=function(t){if(t.p){if(this.i.has(t.p))return;this.u.push(t)}else this.i.add(t),this.A(t);this.o=null},z.prototype.g=function(){return!!this.m()&&(this.i.clear(),this.u=[],this.o=null,!0)},z.prototype.m=function(){return this.i.size+this.u.length},z.prototype.P=function(t){return this.i.delete(t)?(this.o=null,!0):this.A(t)},z.prototype.v=function(t){let e=this.u.lastIndexOf(t);e!==-1&&(this.u.splice(e,1),this.o=null)},z.prototype.A=function(t){let e=this.u.length-1;for(;e>=0;){if(this.u[e].p===t)return this.u.splice(e,1),this.o=null,!0;--e}return!1};var Os=window.devicePixelRatio||1;var fa=1/12;var ma=Math.PI*2;var il=window.devicePixelRatio||1;var ie=class{constructor(e){this.alphabet=e;let r=e.length;if(r===0)throw new Error("Alphabet cannot be empty.");if(r&r-1)throw new Error("Alphabet length must be a power of two.");this.shift=Math.trunc(Math.log(r)/Math.LN2),this.mask=Math.trunc(r-1)}shift;mask;index=0;next(){let e="",r=this.index++;do e=this.alphabet[r&this.mask]+e,r>>=this.shift;while(r>0);return e}static createBase32(){return new ie("0123456789abcdefghijklmnopqrstuv")}};function St(t,e){if(!t)return[];let r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function se(t,e){return t?(t.unshift(e),t):[]}var Tr=Mt(At()),Oe=class extends Tr.default{toBBox({source:e,destination:r}){return{maxX:Math.max(e.x,r.x),minX:Math.min(e.x,r.x),maxY:Math.max(e.y,r.y),minY:Math.min(e.y,r.y)}}compareMinX(e,r){return Math.min(e.source.x,e.destination.x)-Math.min(r.source.x,r.destination.x)}compareMinY(e,r){return Math.min(e.source.y,e.destination.y)-Math.min(r.source.y,r.destination.y)}};var wr=Mt(At()),Be=class extends wr.default{toBBox({x:e,y:r}){return{maxX:e,minX:e,maxY:r,minY:r}}compareMinX(e,r){return e.x-r.x}compareMinY(e,r){return e.y-r.y}};function Fe(t,e,r=t,n=e,o=Number.EPSILON){return{maxX:r+o,minX:t-o,maxY:n+o,minY:e-o}}var Ve=class{identity;edges=new Set;edgeTree=new Oe;nodes=new Set;nodeTree=new Be;constructor(e){this.identity=e.identity}getOrCreateNodeAt(e,r){let n=this.getNodeAt(e,r);return n||(n={id:this.identity.next(),x:e,y:r},this.nodes.add(n),this.nodeTree.insert(n)),n}removeNode(e){return this.nodes.delete(e)?(e.edges?.forEach(r=>this.removeEdge(r)),this.nodeTree.remove(e),!0):!1}getOrCreateEdge(e,r){if(!this.nodes.has(e)||!this.nodes.has(r))throw new Error("Src and dst nodes must be part of the same graph to form a connection.");let n=this.findEdge(e,r);return n||(n={source:e,destination:r},(e.edges??=[]).push(n),(r.edges??=[]).push(n),this.edges.add(n),this.edgeTree.insert(n)),n}removeEdge(e){return this.edges.delete(e)?(St(e.source.edges,e),St(e.destination.edges,e),!0):!1}beginMoveNodes(e){let r=new Set;for(let n of e)this.nodeTree.remove(n),n.edges?.forEach(o=>r.add(o));r.forEach(n=>this.edgeTree.remove(n))}endMoveNodes(e){let r=new Set;for(let{ref:n,x:o,y:i}of e){if(n.x=o,n.y=i,this.getNodeAt(n.x,n.y))throw new Error("Attempted to move a node to an occupied cell!");this.nodeTree.insert(n),n.edges?.forEach(s=>r.add(s))}this.edgeTree.load(Array.from(r))}getNodeAt(e,r){let n=this.nodeTree.search(Fe(e,r));if(n.length>1)throw new Error(`More than one node found at [ ${e}, ${r} ]`);return n.length>0?n[0]:null}getNodesWithin(e,r,n,o){return this.nodeTree.search(Fe(e,r,n,o))}getEdgesWithin(e,r,n,o){return this.edgeTree.search(Fe(e,r,n,o))}};var He=class extends Ve{constructor(e){super(e)}findEdge(e,r){let n=e.edges,o=r.edges;return n&&o&&(n.length<o.length?n.find(i=>i.destination===r):o.find(i=>i.source===e))}};var Rt=new He({identity:ie.createBase32()});function Ar(t,e){return Math.round(t+Math.random()*(e-t))}function Ue(t,e){return Math.trunc(t+Math.random()*(e-t))}var Cr=1e5,zn=1e4,ze=Math.sqrt(Cr),Ct=[],Xe=0;for(;Xe<Cr;){let t=Ar(-ze,ze),e=Ar(-ze,ze);if(Rt.getNodeAt(t,e))continue;let r=Rt.getOrCreateNodeAt(t,e);r.color=Ue(0,16777215+1),r.shape=fe[Ue(0,fe.length)].key,Ct.push(r),++Xe}var Rr=0;for(;Rr<zn;){let t=Ue(0,Xe),e=Ue(0,Xe);Rt.getOrCreateEdge(Ct[t],Ct[e]),++Rr}var Mr=(t,{depth:e=0,field:r,key:n,options:o,title:i,value:s,onChange:l})=>{t.addRow("[",{depth:e,key:`${n}$begin`,options:se(o,{title:t.t("component.multi-editor.reset"),callback:()=>l(r.optional?void 0:r.initial)}),title:i}),s?.forEach((d,p)=>t.handleField({depth:e+1,field:r.items,key:`${n}[${p}]`,title:`[${p}]`,value:d,options:[{title:t.t("component.multi-editor.array-remove"),callback:()=>l(s.filter((y,g)=>g!==p))}],onChange(y){let g=s.slice();g[p]=y,l(g)}})),t.addRow(h(ce,{class:"array-field__add-button",onClick:()=>l(s?.concat(void 0)??[void 0]),children:t.t("component.multi-editor.array-add")}),{key:`${n}$add`,depth:e+1}),t.addRow("]",{depth:e,key:`${n}$end`})};var Ir=(t,{depth:e=0,field:r,key:n,options:o,title:i,value:s,onChange:l})=>{t.addRow("{",{depth:e,key:`${n}$begin`,options:se(o,{title:t.t("component.multi-editor.reset"),callback:()=>l(r.optional?void 0:r.initial)}),title:i}),r.props.forEach(d=>t.handleField({depth:e+1,field:d,key:`${n}.${d.key}`,value:s?.[d.key],title:d.title??d.key,onChange:p=>l({...s,[d.key]:p})})),t.addRow("}",{depth:e,key:`${n}$end`})};function kr(t){return(e,{depth:r,field:n,key:o,options:i,title:s,value:l,onChange:d})=>{e.addRow(h(t,{onChange:d,value:l}),{depth:r,key:o,options:se(i,{title:e.t("component.multi-editor.reset"),callback:()=>d(n.optional?void 0:n.initial)}),title:s})}}var Dr={array:Mr,object:Ir};var Cu={...Dr,string:kr(Ne)},Lr={};Object.assign(Lr,{kind:"object",props:[{kind:"string",key:"aaa"},{kind:"array",key:"bbb",items:Lr}]});Yt(h(Er,null),document.getElementById("root"));})();
