"use strict";(()=>{var Dr=Object.create;var He=Object.defineProperty;var Lr=Object.getOwnPropertyDescriptor;var Gr=Object.getOwnPropertyNames;var Nr=Object.getPrototypeOf,Br=Object.prototype.hasOwnProperty;var Fr=(t,e,r)=>e in t?He(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Or=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Vr=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Gr(e))!Br.call(t,o)&&o!==r&&He(t,o,{get:()=>e[o],enumerable:!(n=Lr(e,o))||n.enumerable});return t};var Rt=(t,e,r)=>(r=t!=null?Dr(Nr(t)):{},Vr(e||!t||!t.__esModule?He(r,"default",{value:t,enumerable:!0}):r,t));var ae=(t,e,r)=>(Fr(t,typeof e!="symbol"?e+"":e,r),r);var wt=Or((Pt,Et)=>{(function(t,e){typeof Pt=="object"&&typeof Et<"u"?Et.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self).RBush=e()})(Pt,function(){"use strict";function t(a,u,p,y,f){(function m(v,E,w,T,k){for(;T>w;){if(T-w>600){var C=T-w+1,I=E-w+1,ie=Math.log(C),z=.5*Math.exp(2*ie/3),K=.5*Math.sqrt(ie*z*(C-z)/C)*(I-C/2<0?-1:1),j=Math.max(w,Math.floor(E-I*z/C+K)),Ir=Math.min(T,Math.floor(E+(C-I)*z/C+K));m(v,E,j,Ir,k)}var pe=v[E],se=w,N=T;for(e(v,w,E),k(v[T],pe)>0&&e(v,w,T);se<N;){for(e(v,se,N),se++,N--;k(v[se],pe)<0;)se++;for(;k(v[N],pe)>0;)N--}k(v[w],pe)===0?e(v,w,N):e(v,++N,T),N<=E&&(w=N+1),E<=N&&(T=N-1)}})(a,u,p||0,y||a.length-1,f||r)}function e(a,u,p){var y=a[u];a[u]=a[p],a[p]=y}function r(a,u){return a<u?-1:a>u?1:0}var n=function(a){a===void 0&&(a=9),this._maxEntries=Math.max(4,a),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(a,u,p){if(!p)return u.indexOf(a);for(var y=0;y<u.length;y++)if(p(a,u[y]))return y;return-1}function i(a,u){s(a,0,a.children.length,u,a)}function s(a,u,p,y,f){f||(f=R(null)),f.minX=1/0,f.minY=1/0,f.maxX=-1/0,f.maxY=-1/0;for(var m=u;m<p;m++){var v=a.children[m];l(f,a.leaf?y(v):v)}return f}function l(a,u){return a.minX=Math.min(a.minX,u.minX),a.minY=Math.min(a.minY,u.minY),a.maxX=Math.max(a.maxX,u.maxX),a.maxY=Math.max(a.maxY,u.maxY),a}function d(a,u){return a.minX-u.minX}function c(a,u){return a.minY-u.minY}function _(a){return(a.maxX-a.minX)*(a.maxY-a.minY)}function x(a){return a.maxX-a.minX+(a.maxY-a.minY)}function b(a,u){return a.minX<=u.minX&&a.minY<=u.minY&&u.maxX<=a.maxX&&u.maxY<=a.maxY}function P(a,u){return u.minX<=a.maxX&&u.minY<=a.maxY&&u.maxX>=a.minX&&u.maxY>=a.minY}function R(a){return{children:a,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A(a,u,p,y,f){for(var m=[u,p];m.length;)if(!((p=m.pop())-(u=m.pop())<=y)){var v=u+Math.ceil((p-u)/y/2)*y;t(a,v,u,p,f),m.push(u,v,v,p)}}return n.prototype.all=function(){return this._all(this.data,[])},n.prototype.search=function(a){var u=this.data,p=[];if(!P(a,u))return p;for(var y=this.toBBox,f=[];u;){for(var m=0;m<u.children.length;m++){var v=u.children[m],E=u.leaf?y(v):v;P(a,E)&&(u.leaf?p.push(v):b(a,E)?this._all(v,p):f.push(v))}u=f.pop()}return p},n.prototype.collides=function(a){var u=this.data;if(!P(a,u))return!1;for(var p=[];u;){for(var y=0;y<u.children.length;y++){var f=u.children[y],m=u.leaf?this.toBBox(f):f;if(P(a,m)){if(u.leaf||b(a,m))return!0;p.push(f)}}u=p.pop()}return!1},n.prototype.load=function(a){if(!a||!a.length)return this;if(a.length<this._minEntries){for(var u=0;u<a.length;u++)this.insert(a[u]);return this}var p=this._build(a.slice(),0,a.length-1,0);if(this.data.children.length)if(this.data.height===p.height)this._splitRoot(this.data,p);else{if(this.data.height<p.height){var y=this.data;this.data=p,p=y}this._insert(p,this.data.height-p.height-1,!0)}else this.data=p;return this},n.prototype.insert=function(a){return a&&this._insert(a,this.data.height-1),this},n.prototype.clear=function(){return this.data=R([]),this},n.prototype.remove=function(a,u){if(!a)return this;for(var p,y,f,m=this.data,v=this.toBBox(a),E=[],w=[];m||E.length;){if(m||(m=E.pop(),y=E[E.length-1],p=w.pop(),f=!0),m.leaf){var T=o(a,m.children,u);if(T!==-1)return m.children.splice(T,1),E.push(m),this._condense(E),this}f||m.leaf||!b(m,v)?y?(p++,m=y.children[p],f=!1):m=null:(E.push(m),w.push(p),p=0,y=m,m=m.children[0])}return this},n.prototype.toBBox=function(a){return a},n.prototype.compareMinX=function(a,u){return a.minX-u.minX},n.prototype.compareMinY=function(a,u){return a.minY-u.minY},n.prototype.toJSON=function(){return this.data},n.prototype.fromJSON=function(a){return this.data=a,this},n.prototype._all=function(a,u){for(var p=[];a;)a.leaf?u.push.apply(u,a.children):p.push.apply(p,a.children),a=p.pop();return u},n.prototype._build=function(a,u,p,y){var f,m=p-u+1,v=this._maxEntries;if(m<=v)return i(f=R(a.slice(u,p+1)),this.toBBox),f;y||(y=Math.ceil(Math.log(m)/Math.log(v)),v=Math.ceil(m/Math.pow(v,y-1))),(f=R([])).leaf=!1,f.height=y;var E=Math.ceil(m/v),w=E*Math.ceil(Math.sqrt(v));A(a,u,p,w,this.compareMinX);for(var T=u;T<=p;T+=w){var k=Math.min(T+w-1,p);A(a,T,k,E,this.compareMinY);for(var C=T;C<=k;C+=E){var I=Math.min(C+E-1,k);f.children.push(this._build(a,C,I,y-1))}}return i(f,this.toBBox),f},n.prototype._chooseSubtree=function(a,u,p,y){for(;y.push(u),!u.leaf&&y.length-1!==p;){for(var f=1/0,m=1/0,v=void 0,E=0;E<u.children.length;E++){var w=u.children[E],T=_(w),k=(C=a,I=w,(Math.max(I.maxX,C.maxX)-Math.min(I.minX,C.minX))*(Math.max(I.maxY,C.maxY)-Math.min(I.minY,C.minY))-T);k<m?(m=k,f=T<f?T:f,v=w):k===m&&T<f&&(f=T,v=w)}u=v||u.children[0]}var C,I;return u},n.prototype._insert=function(a,u,p){var y=p?a:this.toBBox(a),f=[],m=this._chooseSubtree(y,this.data,u,f);for(m.children.push(a),l(m,y);u>=0&&f[u].children.length>this._maxEntries;)this._split(f,u),u--;this._adjustParentBBoxes(y,f,u)},n.prototype._split=function(a,u){var p=a[u],y=p.children.length,f=this._minEntries;this._chooseSplitAxis(p,f,y);var m=this._chooseSplitIndex(p,f,y),v=R(p.children.splice(m,p.children.length-m));v.height=p.height,v.leaf=p.leaf,i(p,this.toBBox),i(v,this.toBBox),u?a[u-1].children.push(v):this._splitRoot(p,v)},n.prototype._splitRoot=function(a,u){this.data=R([a,u]),this.data.height=a.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},n.prototype._chooseSplitIndex=function(a,u,p){for(var y,f,m,v,E,w,T,k=1/0,C=1/0,I=u;I<=p-u;I++){var ie=s(a,0,I,this.toBBox),z=s(a,I,p,this.toBBox),K=(f=ie,m=z,v=void 0,E=void 0,w=void 0,T=void 0,v=Math.max(f.minX,m.minX),E=Math.max(f.minY,m.minY),w=Math.min(f.maxX,m.maxX),T=Math.min(f.maxY,m.maxY),Math.max(0,w-v)*Math.max(0,T-E)),j=_(ie)+_(z);K<k?(k=K,y=I,C=j<C?j:C):K===k&&j<C&&(C=j,y=I)}return y||p-u},n.prototype._chooseSplitAxis=function(a,u,p){var y=a.leaf?this.compareMinX:d,f=a.leaf?this.compareMinY:c;this._allDistMargin(a,u,p,y)<this._allDistMargin(a,u,p,f)&&a.children.sort(y)},n.prototype._allDistMargin=function(a,u,p,y){a.children.sort(y);for(var f=this.toBBox,m=s(a,0,u,f),v=s(a,p-u,p,f),E=x(m)+x(v),w=u;w<p-u;w++){var T=a.children[w];l(m,a.leaf?f(T):T),E+=x(m)}for(var k=p-u-1;k>=u;k--){var C=a.children[k];l(v,a.leaf?f(C):C),E+=x(v)}return E},n.prototype._adjustParentBBoxes=function(a,u,p){for(var y=p;y>=0;y--)l(u[y],a)},n.prototype._condense=function(a){for(var u=a.length-1,p=void 0;u>=0;u--)a[u].children.length===0?u>0?(p=a[u-1].children).splice(p.indexOf(a[u]),1):this.clear():i(a[u],this.toBBox)},n})});var Hr=[],g={__e(t,e){for(;e=e.__;)if(28&e.flags&&1024&~e.flags)try{if(e.type.getDerivedStateFromError&&e.__c.setState(e.type.getDerivedStateFromError(t)),e.__c.componentDidCatch&&e.__c.componentDidCatch(t),16384&e.flags)return void(e.flags|=512)}catch(r){t=r}throw t}};function me(t,e){t.__h==null&&(t.__h=[]),t.__h.push(e)}function kt(t,e){g.__c&&g.__c(e,t),t.some(r=>{try{for(t=r.__h.length;t--;)r.__h.shift()()}catch(n){g.__e(n,r)}})}var zr=0;function h(t,e,r){let n,o,i,s={};for(i in e)i=="key"?n=e[i]:i=="ref"?o=e[i]:s[i]=e[i];if(arguments.length>3)for(r=[r],i=3;arguments.length>i;i++)r.push(arguments[i]);return arguments.length>2&&(s.children=r),Ye(t,s,n,o,0)}function Ye(t,e,r,n,o){let i={type:t,props:e,key:r,ref:n,constructor:void 0,__v:o||++zr};return g.vnode!=null&&g.vnode(i),i}function It(t){return t==null||typeof t=="boolean"?null:typeof t=="object"?Array.isArray(t)?Ye(G,{children:t},null,null,0):t:typeof t=="function"?t:t+""}function Z(){return{current:null}}function G(t){return t.children}function xe(t,e,r,n){if(t!==e){t&&xe(null,t,null,n);try{typeof e=="function"?e(r):e&&(e.current=r)}catch(o){g.__e(o,n)}}}function he(t,e,r){e[0]==="-"?t.style.setProperty(e,r):t.style[e]=r??""}function ye(t,e,r,n,o){let i;e:if(e==="style")if(typeof r=="string")he(t,"cssText",r);else{if(typeof n=="string"&&he(t,"cssText",n=""),n)for(e in n)r&&e in r||he(t,e,"");for(e in r)n&&r[e]===n[e]||he(t,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?Ct:At,i):t.removeEventListener(e,i?Ct:At,i);else if(e!=="dangerouslySetInnerHTML"){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function At(t){this.l[t.type+!1](g.event?g.event(t):t),this.t&&(this.value==null||t.type!=="input"&&t.type!=="change"||(this.value=this.u),this.checked!=null&&t.type==="change"&&(this.checked=this.u))}function Ct(t){this.l[t.type+!0](g.event?g.event(t):t)}function Dt(t,e,r,n){let o,i,s=e.type,l=t?t.props:e.props;if(e&&e.__c?o=e.__c:(e.__c=o={props:l,context:n,forceUpdate:e.rerender.bind(null,e)},e.flags|=16384),t&&t.__v===e.__v)return o.props=l,void(e.flags|=32768);o.context=n,e.props=o.props=l,o.__i=e;let d=0;for(;25>d;)d++,e.flags&=-16385,(i=g.__r)&&i(e),i=s.call(o,o.props,o.context),16384&e.flags||(d=25);return e.flags&=-16385,o.getChildContext!=null&&(e.c=Object.assign({},r,o.getChildContext())),i}function Lt(t,e,r,n){let o,i,s,l,d,c,_=e.type,x=t?t.props:e.props;if(e&&e.__c?o=e.__c:(e.__c=o=new _(x,n),o.state||(o.state={}),i=!0,e.flags|=16384),o.__s==null&&(o.__s=o.state),_.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=Object.assign({},o.__s)),Object.assign(o.__s,_.getDerivedStateFromProps(x,o.__s))),s=o.props,l=o.state,i)_.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&me(e,o.componentDidMount.bind(o));else{if(_.getDerivedStateFromProps==null&&x!==s&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(x,n),!(8192&e.flags)&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(x,o.__s,n)===!1||t&&t.__v===e.__v)return o.props=x,o.state=o.__s,void(e.flags|=32768);o.componentWillUpdate!=null&&o.componentWillUpdate(x,o.__s,n)}return o.context=n,e.props=o.props=x,o.state=o.__s,(c=g.__r)&&c(e),e.flags&=-16385,o.__i=e,c=o.render(o.props,o.state,o.context),o.state=o.__s,o.getChildContext!=null&&(e.c=Object.assign({},r,o.getChildContext())),i||(o.getSnapshotBeforeUpdate!=null&&(d=o.getSnapshotBeforeUpdate(s,l)),o.componentDidUpdate!=null&&me(e,()=>{o.componentDidUpdate(s,l,d)})),c}var Ur=0,Ue=new Set,Yr=t=>{Ue.delete(t)||Ue.forEach(e=>{e.__c.s.delete(t)})},ve=(t,e)=>{let r={__c:e="__cC"+Ur++,__:t,Consumer:(n,o)=>n.children(o),Provider(n,o){return this.s?n.value!==this.p&&this.s.forEach(Bt):(this.s=new Set,(o={})[e]=this,this.getChildContext=()=>o,Ue.add(this.__i)),this.p=n.value,n.children}};return r.Provider.__=r.Consumer.contextType=r};function Gt(t,e,r){let n,o=0;if(g.unmount&&g.unmount(t),t.flags|=2048,(n=t.ref)&&(n.current&&n.current!==t.__e||xe(null,n,null,e)),(n=t.__c)&&(Yr(t),n.componentWillUnmount))try{n.componentWillUnmount()}catch(i){g.__e(i,e)}if(n=t.__k)for(;n.length>o;o++)n[o]&&Gt(n[o],e,r?16&~t.flags:3&t.flags);!r&&3&t.flags&&t.__e.remove(),t.__e=null}function Nt(t,e,r,n){let o,i,s,l,d,c=r.__k&&r.__k.slice()||Hr,_=c.length,x=_,b=0,P=[];for(o=0;e.length>o;o++){if(d=It(e[o]),d==null){P[o]=null;continue}let R,A=o+b,a=Xr(d,c,A,x);a===-1?l=void 0:(l=c[a],c[a]=void 0,x--);let u=l==null;u?(l=$e(d,r),_e(t,d,l,n,U(r,A))):(160&l.flags)==160?(R=l.ref,_e(t,d,l,n,l.__e)):(R=l.ref,We(t,d,l,n)),i=l.__e,(d.ref||R)&&(s||(s=[]),l.ref=d.ref,s.push(R,d.ref,28&l.flags&&l.__c||i,l));e:if(u){if(a==-1&&b--,3&l.flags){let p=U(r,A);t.insertBefore(l.__e,p)}}else if(a!==A){if(a===A+1){b++;break e}if(a>A){if(x>e.length-A){b+=a-A;break e}b--}else b=A>a&&a==A-1?a-A:0;if(A=o+b,a==o)break e;let p=U(r,A+1);3&l.flags?t.insertBefore(l.__e,p):Xe(l,p,t)}P[o]=l}if(r.__k=P,x>0)for(o=_;o--;)c[o]!=null&&Gt(c[o],c[o]);if(s)for(o=0;s.length>o;o++)xe(s[o],s[++o],s[++o],s[++o])}function Xr(t,e,r,n){let o=typeof t=="string"?null:t.type,i=o!==null?t.key:void 0,s=-1,l=r-1,d=r+1,c=e[r];if(c===null||c!=null&&c.type===o&&c.key==i)s=r;else if(n>(c!=null?1:0))for(;;){if(l>=0){if(c=e[l],c!=null&&c.type===o&&c.key==i){s=l;break}l--}if(e.length>d){if(c=e[d],c!=null&&c.type===o&&c.key==i){s=d;break}d++}else if(0>l)break}return s}function Xe(t,e,r){if(t.__k!=null)for(let n=0;t.__k.length>n;n++){let o=t.__k[n];o&&(o.__=t,28&o.flags?Xe(o,e,r):o.__e!=e&&r.insertBefore(o.__e,e))}}function We(t,e,r,n){let o,i=r.__e,s=r.flags;if(1&s)return void(e!==r.props&&(i.data=e,r.props=e));if(e.constructor!==void 0)return null;g.__b&&g.__b(r,e),2&s&&(e.__v!==r.__v&&(Wr(i,e,r,n),r.__v=e.__v),g.diffed&&g.diffed(r),r.flags&=-42465);let l=t;16&s&&(t=e.props.__P,r.props.__P!==e.props.__P)&&Xe(r,t==l?U(r):null,t);try{512&r.flags&&(r.flags^=1536);let d=Vt(r),c=e.type.contextType,_=c&&d[c.__c],x=c?_?_.props.value:c.__:d,b=!r||!r.__c;if(o=4&r.flags?Lt(e,r,d,x):Dt(e,r,d,x),32768&r.flags)r.props=e.props,r.flags&=-32769,e&&e.__v!==r.__v&&(r.flags&=-16385);else{let P=o!=null&&o.type===G&&o.key==null?o.props.children:o;r.__k==null?Ke(t,Array.isArray(P)?P:[P],r,n,(160&r.flags)==160?r.__e:b||32&r.flags?null:U(r)):Nt(t,Array.isArray(P)?P:[P],r,n)}r.__h!=null&&r.__h.length&&n.push(r)}catch(d){r.flags|=d.then?128:256,g.__e(d,r)}g.diffed&&g.diffed(r),r.flags&=-42465,r.__v=e.__v}function Wr(t,e,r,n){let o,i,s,l,d,c,_=r.props,x=r.props=e.props,b=4096&r.flags;for(o in _)i=_[o],o==="key"||o==="children"||(o==="dangerouslySetInnerHTML"?d=i:o in x||ye(t,o,null,i,b));for(o in x)i=x[o],o==="key"||(o==="children"?c=i:o==="dangerouslySetInnerHTML"?l=i:i===(s=_[o])&&(o!=="checked"&&o!=="value"||i==null||i===t[o])||ye(t,o,i,s,b));l?(i=l.__html,(!d||i!==d.__html&&i!==t.innerHTML)&&(t.innerHTML=i),r.__k=null):(d&&(t.innerHTML=""),Nt(t,c&&Array.isArray(c)?c:[c],r,n)),x.value!=null&&t.t?t.u=x.value:x.checked!=null&&t.t&&(t.u=x.checked)}function L(t,e){this.props=t,this.context=e}function $r(t){if(2048&~t.flags&&16384&t.flags){let e=[];We(Ht(t),Ye(t.type,t.props,t.key,t.ref,0),t,e),kt(e,t)}}L.prototype.setState=function(t,e){let r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Object.assign({},this.state),typeof t=="function"&&(t=t(Object.assign({},r),this.props)),t&&Object.assign(r,t),t!=null&&this.__i&&(e&&me(this.__i,e.bind(this)),this.__i.rerender(this.__i))},L.prototype.forceUpdate=function(t){this.__i&&(this.__i.flags|=8192,t&&me(this.__i,t.bind(this)),this.__i.rerender(this.__i))},L.prototype.render=G;var ze,fe=[],Kr=Promise.prototype.then.bind(Promise.resolve());function Bt(t){(16384&t.flags||!(t.flags|=16384)||!fe.push(t)||ge.__r++)&&ze===g.debounceRendering||(ze=g.debounceRendering,(ze||Kr)(ge))}function ge(){for(;Mt=ge.__r=fe.length;)for(fe.sort((t,e)=>t.__b-e.__b);Mt--;)$r(fe.shift())}var Mt=ge.__r=0;function $e(t,e){let r,n,o,i=null,s=e?4192&e.flags:0,l=NaN;typeof t=="string"?(s|=1,r=t):t.constructor!==void 0?(s|=1,r=""):(i=t.type,r=t.props||{},n=t.key,o=t.ref,l=t.__v,s|=typeof i=="function"?i.prototype&&"render"in i.prototype?4:r.__P?16:8:2,2&s&&i==="svg"?s|=4096:e&&4096&e.flags&&e.type==="foreignObject"&&(s&=-4097));let d={type:i,props:r,key:n,ref:o,data:typeof i=="function"?{}:null,rerender:Bt,flags:s,__k:null,__:e,__v:l,__e:null,__c:null,c:null,__b:e?e.__b+1:0};return g.__i&&g.__i(d,t),d}var Ft=t=>28&t.flags&&(!(16&t.flags)||t.props.__P==Ht(t.__));function U(t,e){return e==null?U(t.__,t.__.__k.indexOf(t)+1):Ot(t,e)||(t.__&&Ft(t)?U(t):null)}function Ot(t,e){if(t.__k==null)return null;for(e=e||0;t.__k.length>e;e++){let r=t.__k[e];if(r!=null){if(3&r.flags)return r.__e;if(Ft(r)){let n=Ot(r);if(n)return n}}}return null}function Vt(t){let e=t.c,r=t.__;for(;e==null&&r;)e=r.c,r=r.__;return e}function Ht(t){let e=16&t.flags?t.props.__P:null,r=t.__;for(;e==null&&r;)16&r.flags?e=r.props.__P:2&r.flags&&(e=r.__e),r=r.__;return e}function _e(t,e,r,n,o){let i;g.__b&&g.__b(r,e);try{if(28&r.flags){let s=o,l=t;16&r.flags&&(t=e.props.__P)!==l&&(o=null);let d=Vt(r),c=e.type.contextType,_=c&&d[c.__c],x=c?_?_.props.value:c.__:d;_&&_.s.add(r),i=4&r.flags?Lt(null,r,d,x):Dt(null,r,d,x);let b=i!=null&&i.type===G&&i.key==null?i.props.children:i;i=Ke(t,Array.isArray(b)?b:[b],r,n,o),r.__h!=null&&r.__h.length&&n.push(r),16&r.flags&&l!==t&&(i=s)}else i=jr(96&r.flags?o:null,r,n);g.diffed&&g.diffed(r),r.flags&=-42465}catch(s){r.__v=0,r.flags|=s.then?128:256,32&r.flags&&(i=o&&o.nextSibling,r.__e=o),g.__e(s,r)}return i}function jr(t,e,r){let n,o,i=e.props,s=e.type,l=e.flags,d=4096&l,c=32&~l;if(96&l)for(;t&&(s?t.localName!==s:t.nodeType!==3);)t=t.nextSibling;let _=t==null;if(1&l)_?t=document.createTextNode(i):t.data!==i&&(t.data=i),e.__e=t;else{if(_&&(t=d?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s,i.is&&i),e.flags=l&=-42465,c=1),64&l)for(n=0;t.attributes.length>n;n++)o=t.attributes[n].name,o in i||t.removeAttribute(o);let x,b,P;for(n in e.type!=="input"&&e.type!=="textarea"&&e.type!=="select"||!i.onInput&&!i.onChange||(i.value!=null?(t.t=!0,t.u=i.value):i.checked!=null&&(t.t=!0,t.u=i.checked)),i)o=i[n],n==="key"||(n==="children"?P=o:n==="dangerouslySetInnerHTML"?x=o:n==="value"?b=o:o==null||!c&&typeof o!="function"||ye(t,n,o,null,d));e.__e=t,x?(c&&x.__html&&(t.innerHTML=x.__html),e.__k=null):P!=null&&Ke(t,P&&Array.isArray(P)?P:[P],e,r,_?null:t.firstChild),c&&b!=null&&ye(t,"value",b,null,0)}return _?null:t.nextSibling}function Ke(t,e,r,n,o){let i,s,l,d,c,_=r.__k=[];for(i=0;e.length>i;i++)s=It(e[i]),s!=null?(l=$e(s,r),_[i]=l,c=_e(t,s,l,n,o),d=l.__e,28&l.flags||d==o?o=c:d!=null&&t.insertBefore(d,o),l.ref&&xe(null,l.ref,l.__c||d,l)):_[i]=null;if(96&r.flags&&2&r.flags)for(;o;)i=o,o=o.nextSibling,i.remove();return o}function Zr(t){let e,r,n,o=0;function i(s){g.__&&g.__(s,t),s=h(G,{__P:t},[s]),n=t.firstChild,r=[],e?We(t,s,e,r):(e=$e(s),t.__k=e,n&&(o=o||64),t.ownerSVGElement!==void 0&&(o|=4096),e.flags|=o,e.c={},_e(t,s,e,r,n)),kt(r,e)}return{hydrate(s){o|=32,i(s)},render:i}}function zt(t,e){let r=e&&e.__;r||(r=Zr(e)),r.render(t),e.__=r}function qr(t){return t.children}function Ut(t,e){return h(qr,{__P:e},t)}var S=class extends Error{code;isIntlError=!0;constructor(e,r){super(`${e} ${r}`),this.code=e}static is(e){return e?.isIntlError===!0}};ae(S,"FORMAT_UNAVAILABLE","FormatUnavailable"),ae(S,"INVALID_PARAMETER","InvalidParameter"),ae(S,"KEY_NOT_FOUND","KeyNotFound"),ae(S,"PARSE_ERROR","KeyNotFound");function Kt(t,e,r){for(let n in t){if(n.startsWith("$"))continue;let o=t[n];switch(typeof o){case"string":e[r+n]=o;break;case"object":o!==null&&Kt(o,e,`${r}${n}.`)}}return e}function Jr(t){return Kt(t,{},"")}function je(t,e){let r={};for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)){let o=e(t[n],n);o!=null&&(r[n]=o)}return r}function Qe(t){return t[1]??"variable"}function et(t,e){let r=t[0];return e!==void 0&&Object.prototype.hasOwnProperty.call(e,r)?""+e[r]:r}function tt(t,e){let{length:r}=e,n=Qe(t);if(t.length-2>r)throw new S(S.INVALID_PARAMETER,`too many parameters for format '${n}'`);for(let o=0;o<r;++o)e[o].call(null,t[2+o],n,o)}function Qr(t,e,r){typeof t!="string"&&jt("an identifier",e,r)}function en(t,e,r){tn(t)&&Array.isArray(rn(t))||jt("a map of messages",e,r)}function tn(t){return t!==null&&typeof t=="object"}function rn(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function jt(t,e,r){throw new S(S.INVALID_PARAMETER,`expected parameter ${r+1} of format '${e}' to be ${t}`)}var nn={y(t,e){let r=t.getFullYear();return e===2&&(r%=100),O(r,e)},M(t,e,{monthsLong:r,monthsShort:n}){let o=t.getMonth();switch(e){case 1:case 2:return O(o+1,e);case 3:return le(n),n[o];case 4:return le(r),r[o];default:throw Yt()}},d:(t,e)=>O(t.getDate(),e),E(t,e,{weekdaysLong:r,weekdaysShort:n}){let o=t.getDay();switch(e){case 1:case 2:case 3:return le(n),n[o];case 4:return le(r),r[o];default:throw Yt()}},a:(t,e,{dayPeriod:r})=>(le(r),r[t.getHours()>=12?1:0]),h(t,e){let r=t.getHours()%12;return O(r===0?12:r,e)},H:(t,e)=>O(t.getHours(),e),m:(t,e)=>O(t.getMinutes(),e),s:(t,e)=>O(t.getSeconds(),e),X(t,e){let r=t.getTimezoneOffset();if(r===0)return"Z";let n=Math.floor(Math.abs(r)/60),o=Math.abs(r)%60;return(r<0?"-":"+")+O(n)+(o!==0||e>1?(e>2?":":"")+O(o):"")}};function le(t){if(t==null)throw new S(S.FORMAT_UNAVAILABLE,"Cannot use some DateTime formats; Required translations are missing.")}function Yt(){return new S(S.FORMAT_UNAVAILABLE,"DateTime format not supported.")}function O(t,e=2){return(""+t).padStart(e,"0")}function on(t,e,r){let n;switch(typeof e){case"number":case"string":n=new Date(e);break;case"object":if(e!==null&&e instanceof Date){n=e;break}default:throw new S(S.INVALID_PARAMETER,"invalid date")}let o,i="",s=0;for(;s<t.length;)o=t[s++],i+=typeof o=="function"?o(n,t[s++],r):o;return i}function sn(t){let e=[],{length:r}=t;if(r===0)return()=>"";let n=0,o=0,i=!1,s=t.charCodeAt(0),l=c=>{let _=e.length-1;_>=0&&typeof e[_]=="string"?e[_]+=c:e.push(c)},d=()=>{let c=t.slice(o,n);if(i)l(c||"'");else if(s>=65&&s<=90||s>=97&&s<=122){let _=nn[c[0]];_&&e.push(_,c.length)}else l(c);o=n};for(;n<r;){let c=t.charCodeAt(n);c===39?(d(),t.charCodeAt(n+1)===39?(l("'"),o+=2,++n):(i=!i,++o)):i||c===s||d(),s=c,++n}return d(),on.bind(null,e)}var an=[Qr],Xt=t=>{let e=je(t.formats,sn);return r=>{tt(r,an);let n=e[r[2]];if(!n)throw new S(S.INVALID_PARAMETER,`DateTime format '${r[2]}' is not configured.`);return o=>n(et(r,o),t)}},ln=[en],un=()=>(t,e)=>{tt(t,ln);let r=t[2];if(!r.other)throw new S(S.INVALID_PARAMETER,`messages of format '${Qe(t)}' must contain the key 'other'`);let n={};for(let o in r)n[o]=e.interpret(r[o]);return o=>(n[et(t,o)]??n.other)(o)},dn=[],cn=()=>t=>(tt(t,dn),e=>et(t,e)),pn={select:un,variable:cn,date:Xt,time:Xt},F=class extends S{input;at;constructor(e,r,n){super(S.PARSE_ERROR,e),this.input=r,this.at=n}toString(){let e=Math.max(this.input.lastIndexOf(`
`,this.at-1),0)+1,r=this.input.indexOf(`
`,this.at+1);r===-1?r=this.input.length:this.input[r-1]==="\r"&&--r;let n=`${this.input.slice(e,r)}
${" ".repeat(this.at-e)}^`;return`${this.message} at pos ${this.at}:

${n}

${this.stack}`}};function Zt(t){return t===32||t>=9&&t<=13||t===133||t===160||t===6158||t>=8192&&t<=8205||t===8232||t===8233||t===8239||t===8287||t===8288||t===12288||t===65279}function V(t,e){let{length:r}=t,n=e;for(;n<r&&Zt(t.charCodeAt(n));)++n;return n}function ue(t,e){let{length:r}=t,n,o=e;for(;o<r&&(n=t[o],n!=="{"&&n!=="}"&&n!==","&&n!=="#"&&n!=="'"&&n!==":"&&!Zt(n.charCodeAt(0)));)++o;if(e===o)throw new F(`expected an identifier but ${n?`saw '${n}'`:"saw the end of pattern"} instead`,t,e);return t.slice(e,o)}function Wt(t,e,r){let{length:n}=t,o,i=e,s=e,l="";for(;s<n&&(o=t[s],!(o==="{"||o==="}"||r&&o==="#"));){if(o==="'"){if(o=t[++s],o==="'")l+=t.slice(i,s),i=s+1;else if(o==="{"||o==="}"||r&&o==="#"){for(l+=t.slice(i,s-1),i=s;++s<n;)if(o=t[s],o==="'"){if(o=t[s+1],o!=="'")break;l+=t.slice(i,++s),i=s+1}l+=t.slice(i,s),i=++s}}++s}return l+=t.slice(i,s),l}function qt(t,e,r,n){let{length:o}=t,i={};r.push(i);let s,l=n,d=[],c=Ze(t,e,d,!0);for(i[l]=d;c<o&&(c=V(t,c),s=t[c],s!==","&&s!=="}");){if(l=ue(t,c),c=V(t,c+l.length),s=t[c],s!=="{")throw new F("expected '{'",t,c);d=[],c=Ze(t,c+1,d,!0),i[l]=d}return c}function hn(t,e,r,n){let{length:o}=t,i={};r.push(i);let s,l=n,d=V(t,e),c=ue(t,d);for(d+=c.length,i[l]=c;d<o&&(d=V(t,d),s=t[d],s!==","&&s!=="}");){if(l=ue(t,d),d=V(t,d+l.length),s=t[d],s==="{")return qt(t,d+1,r,l);if(s!==":")throw new F("expected ':' or '{'",t,d);d=V(t,d+1),c=ue(t,d),d+=c.length,i[l]=c}return d}function fn(t,e,r){let n=e,o=t[n];if(o==="#")return r.push("#"),n+1;if(o!=="{")throw new F("expected '#' or '{'",t,n);let{length:i}=t;do{n=V(t,n+1);let s=ue(t,n);switch(n=V(t,n+s.length),o=t[n],o){case",":case"}":r.push(s);break;case"{":if(r.length<2)throw new F("expected an identifier but saw a message instead",t,n);n=qt(t,n+1,r,s),o=t[n];break;case":":if(r.length<2)throw new F("expected an identifier but saw an attribute instead",t,n);n=hn(t,n+1,r,s),o=t[n];break;default:throw new F(`unexpected character '${o}'`,t,n)}}while(n<i&&o!=="}");return n+1}function Ze(t,e,r,n){let o,i=e,s=Wt(t,i,n);s&&(r.push(s),i+=s.length);let{length:l}=t;for(;i<l;){if(o=t[i],o==="}"){if(!n)throw new F("unexpected '}'",t,i);++i;break}let d=[];i=fn(t,i,d),r.push(d),s=Wt(t,i,n),s&&(r.push(s),i+=s.length)}return i}function $t(t){let e=[];return Ze(t,0,e,!1),e}var qe=class{formatProvider;constructor(e){this.formatProvider=e}interpret(e,r){let{length:n}=e;if(n===1)return this.interpretElement(e[0],r);let o=new Array(n);for(let i=0;i<n;++i)o[i]=this.interpretElement(e[i],r);return mn.bind(null,o)}interpretElement(e,r){if(typeof e=="string")return()=>e;let n=e;if(n.length===1&&n[0]==="#"){if(r===void 0)return()=>"#";n=[r]}return this.formatProvider.getFormat(n)(n,this)}};function mn(t,e){let r="";for(let n=0;n<t.length;++n)r+=t[n](e);return r}var Je=class{formatMap;constructor(e){this.formatMap=e}getFormat(e){let r=Qe(e),n=this.formatMap[r];if(!n)throw new S(S.FORMAT_UNAVAILABLE,r);return n}},q;(function(t){t[t.Eager=0]="Eager",t[t.Lazy=1]="Lazy",t[t.Off=2]="Off"})(q||(q={}));var J=class{cacheMode;expansions;interpreter;constructor({cacheMode:e,interpreter:r,translations:n}){this.cacheMode=e??q.Lazy,this.interpreter=r,this.expansions=Jr(n),e===q.Eager&&(this.expansions=je(this.expansions,o=>r.interpret($t(o))))}expand(e,r){let n=this.expansions[e];if(n===void 0)throw new S(S.KEY_NOT_FOUND,e);return typeof n=="string"&&(n=this.interpreter.interpret($t(n)),this.cacheMode!==q.Off&&(this.expansions[e]=n)),n(r)}static fromLocale(e,r=pn){let n=je(r,(i,s)=>!e.$format?.[s]&&i.length>0?null:i(e.$format?.[s])),o=new Je(n);return new J({cacheMode:q.Lazy,interpreter:new qe(o),translations:e})}};var Q,M,rt;Promise.prototype.then.bind(Promise.resolve());var nt,ot=0,or=[],Jt=g.__b,Qt=g.__r,er=g.diffed,tr=g.__c,rr=g.unmount;function de(t,e){g.__h&&g.__h(M,t,ot||e),ot=0;let r=M.data.__H||(M.data.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function B(t){return ot=1,yn(sr,t)}function yn(t,e,r){let n=de(Q++,2);return n.t=t,n.__i||(n.__=[r?r(e):sr(void 0,e),o=>{let i=n.t(n.__[0],o);n.__[0]!==i&&(n.__=[i,n.__[1]],n.__i.rerender(n.__i))}],n.__i=M),n.__}function Pe(t,e){let r=de(Q++,3);!g.__s&&st(r.__H,e)&&(r.__=t,r.o=e,M.data.__H.__h.push(r))}function ir(t,e){let r=de(Q++,4);!g.__s&&st(r.__H,e)&&(r.__=t,r.o=e,M.__h==null&&(M.__h=[]),M.__h.push(r))}function Ee(t,e){let r=de(Q++,7);return st(r.__H,e)?(r.i=t(),r.o=e,r.__h=t,r.i):r.__}function we(t){let e=function(n){let o=M.c,i=M.__;for(;o==null&&i;)o=i.c,i=i.__;return o}()[t.__c],r=de(Q++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.s.add(M)),e.props.value):t.__}g.__b=(t,e)=>{M=null,Jt&&Jt(t,e)},g.__r=t=>{Qt&&Qt(t),M=t,Q=0,M.data&&M.data.__H&&(rt===M?(M.data.__H.__h=[],M.__h=[],M.data.__H.__.forEach(e=>{e.o&&(e.o=void 0),e.i&&(e.i=void 0)})):(t.data&&t.data.__H&&t.data&&t.data.__H.__.forEach(e=>{e.o&&(e.__H=e.o,e.o=void 0),e.i&&(e.__=e.i,e.i=void 0)}),M.data.__H.__h.forEach(be),M.data.__H.__h.forEach(it),M.data.__H.__h=[])),rt=t},g.diffed=t=>{er&&er(t),rt=void 0,t.data&&t.data.__H&&t.data.__H.__h.length&&(or.push(t)!==1&&nt===g.requestAnimationFrame||(nt=g.requestAnimationFrame,(nt||xn)(_n)))},g.__c=(t,e)=>{e.some(r=>{try{r.data&&r.data.__H&&r.data&&r.data.__H.__.forEach(n=>{n.o&&(n.__H=n.o,n.o=void 0),n.i&&(n.__=n.i,n.i=void 0)}),r.__h.forEach(be),r.__h=r.__h.filter(n=>!n.__||it(n))}catch(n){e.some(o=>{o.__h&&(o.__h=[])}),e=[],g.__e(n,r)}}),tr&&tr(t,e)},g.unmount=t=>{if(rr&&rr(t),t.data&&t.data.__H){let e;t.data.__H.__.forEach(r=>{try{be(r)}catch(n){e=n}}),e&&g.__e(e,t)}};var gn=g.__e;function _n(){let t;for(;t=or.shift();)if(2048&~t.flags)try{t.data.__H.__h.forEach(be),t.data.__H.__h.forEach(it),t.data.__H.__h=[]}catch(e){t.data.__H.__h=[],g.__e(e,t)}}g.__e=function(t,e){let r=e;for(;r=r.__;)if(r.data&&r.data.__e)return r.data.__e(t,e);gn(t,e)};var nr=typeof requestAnimationFrame=="function";function xn(t){let e=()=>{clearTimeout(r),nr&&cancelAnimationFrame(n),setTimeout(t)},r=setTimeout(e,100),n;nr&&(n=requestAnimationFrame(e))}function be(t){let e=M,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),M=e}function it(t){let e=M;t.__c=t.__(),M=e}function st(t,e){return!t||t.length!==e.length||e.some((r,n)=>r!==t[n])}function sr(t,e){return typeof e=="function"?e(t):e}function ar(t){return"⚠️ "+t}var at={isLoading:!0,t:()=>""},vn={isLoading:!1,t:()=>ar("LocaleFetchError")},lr=ve(at);function ur(){return we(lr)}var ee=class extends L{state=at;pendingFetch;componentDidMount(){this.fetchLocale()}componentDidUpdate(e){let r=this.props;e.url!==r.url&&this.fetchLocale()}componentWillUnmount(){this.pendingFetch?.abort()}render(){return h(lr.Provider,{children:this.props.children,value:this.state})}async fetchLocale(){try{this.setState(at),this.pendingFetch=new AbortController;let e=await fetch(this.props.url,{credentials:this.props.fetchCredentials,headers:this.props.fetchHeaders,method:"GET",signal:this.pendingFetch.signal});if(!e.ok)throw new Error(`unexpected HTTP response ${e.status} - ${e.statusText}`);let r=await e.json(),n=J.fromLocale(r,this.props.formats);this.setState({isLoading:!1,t:bn.bind(null,n)})}catch(e){this.setState(vn),this.props.onError?.(e)}finally{this.pendingFetch=void 0}}};function bn(t,e,r,n){let o,i,s;if(typeof e=="string")o=e,typeof r=="string"?s=r:(i=r,s=n);else{if(function(l){return typeof l.text=="string"}(e))return e.text;o=e.key,i=e.vars,s=e.fallbackText}try{return t.expand(o,i)}catch(l){return s===void 0?ar(S.is(l)?l.message:"UnknownError"):s}}function Y(t,e){return`${t}--${e}`}function D(t,e){let r=t;for(let n in e)e[n]&&(r+=` ${Y(t,n)}`);return r}function X(){let{length:t}=arguments,e="";for(let r,n=0;n<t;++n)(r=arguments[n])&&(e+=(e&&" ")+r);return e}function W(t){return Math.trunc(t)+"px"}function lt(t){return Math.round(t*100)+"%"}var ut=({children:t,class:e,type:r="button",...n})=>h("button",{...n,class:X("button",e),type:r},t),Te=({class:t,glyph:e,...r})=>h(ut,{...r,class:X(Y("button","icon"),t)},e);function Se(t){let e=t[0]==="-",r=e?1:0;for(;r<t.length&&t[r]==="0";)++r;let n=r;for(;r<t.length&&t[r]!==".";)++r;let o=r;for(r=t.length-1;r>o&&t[r]==="0";)--r;let i=r===o?r:r+1,s=t.slice(n,i);return n===i?{input:t,sign:0,size:1,value:"0"}:{input:t,sign:e?-1:1,size:Math.max(o-n,1),value:(e?"-":"")+(n===o&&o!==i?"0":"")+s}}function dt(t,e){if(t.sign!==e.sign)return t.sign===0&&e.sign===0?0:t.sign;if(t.size!==e.size)return t.sign*(t.size-e.size);let r=Math.max(-t.sign,0),n,o=r+t.size;do n=t.value.charCodeAt(r)-e.value.charCodeAt(r);while(n===0&&++r<o);let i=Math.max(t.value.length,e.value.length);for(;n===0&&++r<i;)n=(r<t.value.length?t.value.charCodeAt(r):48)-(r<e.value.length?e.value.charCodeAt(r):48);return t.sign*n}var cr=/^\s*-?[0-9\s]*(?:\s*[.,][0-9\s]*)?$/,pr={sign:"",significant:"0",separator:"",fractional:"",concat:"0"},Re=class extends L{state={uiValue:""};inputRef=Z();caret={index:0};uiValueParsed=pr;isEmpty=!0;minValue;maxValue;render(e,{uiValue:r}){let{groupBy:n=0,maxFractional:o=-1}=e;e.minValue&&e.minValue!==this.minValue?.input&&(this.minValue=Se(e.minValue)),e.maxValue&&e.maxValue!==this.maxValue?.input&&(this.maxValue=Se(e.maxValue));let i=this.minValue&&this.maxValue?Math.max(this.minValue.size,this.maxValue.size):e.maxSignificant??-1;this.caret.index=this.inputRef.current?.selectionStart??0,this.isEmpty=!r||r==="0"||r==="-0",this.uiValueParsed=Pn(r,i,o,this.caret);let s=(n>0?dr(this.uiValueParsed.significant,n,0,this.caret):this.uiValueParsed.significant)+this.uiValueParsed.separator+this.uiValueParsed.fractional;return h("div",{class:"number-input",onPointerDown:this.onDelegateFocus},h("span",{onClick:this.onToggleSign,children:this.uiValueParsed.sign?"- ":"+ ",class:X("number-input__placeholder",D("number-input__sign",{negative:!!this.uiValueParsed.sign}))}),(()=>{let l=this.uiValueParsed.significant.length;if(l>=i)return null;let d="0".repeat(i-l);return h("span",{class:"number-input__placeholder"},n>0?dr(d,n,l):d)})(),h("div",{class:"number-input__input-wrapper"},h("span",{class:"number-input__placeholder number-input__measurement"},s),h("input",{class:"number-input__input",ref:this.inputRef,type:"text",inputMode:"decimal",value:s,onBlur:this.onLostFocus,onbeforeinput:this.onBeforeInput,onInput:this.onInput})),this.uiValueParsed.fractional.length<o?h("span",{class:"number-input__placeholder"},(this.uiValueParsed.separator?"":".")+"0".repeat(o-this.uiValueParsed.fractional.length)):null)}componentDidUpdate(){this.inputRef.current&&this.inputRef.current===document.activeElement&&this.inputRef.current.setSelectionRange(this.caret.index,this.caret.index)}onDelegateFocus=e=>{if(this.inputRef.current&&e.target!==this.inputRef.current){e.preventDefault(),this.inputRef.current.focus();let r=this.inputRef.current.getBoundingClientRect(),n=e.x<(r.left+r.right)/2?0:this.inputRef.current.value.length;this.inputRef.current.setSelectionRange(n,n)}};onLostFocus=()=>{let e=Se(this.uiValueParsed.sign+this.uiValueParsed.concat),r=e;this.minValue&&dt(r,this.minValue)<0?r=this.minValue:this.maxValue&&dt(r,this.maxValue)>0&&(r=this.maxValue),r!==e&&this.setState({uiValue:r.value}),this.props.onChange(r.value)};onToggleSign=()=>{let e=this.inputRef.current?.value??"0";this.setState({uiValue:(this.uiValueParsed.sign?"":"-")+e})};onBeforeInput=e=>{if(e.target!==this.inputRef.current)return;let r=this.inputRef.current,n=r.value,o=r.selectionStart??n.length,i=r.selectionEnd??n.length;if(!e.data){e.inputType==="deleteContentBackward"&&this.uiValueParsed.sign&&(o===0||this.isEmpty&&o===n.length)&&(e.preventDefault(),this.onToggleSign());return}if(e.data==="-"&&!this.uiValueParsed.sign&&(o===0||this.isEmpty)){e.preventDefault(),this.onToggleSign();return}let s=n.slice(0,o)+e.data+n.slice(i);cr.test(s)||e.preventDefault()};onInput=e=>{if(e.target!==this.inputRef.current)return;let r=this.inputRef.current.value;this.isEmpty&&this.inputRef.current.selectionStart===r.length&&/^0[^0]/.test(r)&&(r=r.slice(1)),this.setState({uiValue:this.uiValueParsed.sign+r})}};function Pn(t,e,r,n){if(!t||!cr.test(t))return n.index=1,pr;let o="",i="",s=-1,l="",d=0,c=0,_=0,x=0,b=()=>{l+=t.slice(d,c),d=c+1};for(;c<t.length;){let A=t.charCodeAt(c);A===46||A===44?(i=".",s=c-x):(A<48||A>57)&&(b(),++x,A===45?o="-":c<n.index&&++_),++c}b(),n.index-=_,s===-1&&(s=l.length);let P=l.slice(0,s)||"0";e>=1&&(n.index>e&&(n.index-=Math.max(P.length-e,0)),P=P.slice(0,e));let R=l.slice(s+1);return r>=0&&(R=R.slice(0,r),r===0&&(i="")),{sign:o,separator:i,significant:P,fractional:R,concat:l}}function dr(t,e,r,n){let o=t,i=t.length+(r-1)%e+1;for(;i>e;)i-=e,o=o.slice(0,i)+" "+o.slice(i),n&&i<n.index&&++n.index;return o}function hr(t){let e=Ee(En,[]);return e.ref=t,e}function ct(t,e){t&&(typeof t=="function"?t(e):t.current=e)}function En(){let t=null,e=null;return{get ref(){return t},set ref(r){r!==t&&(t&&ct(t,null),t=r,t&&ct(t,e))},get current(){return e},set current(r){e=r,t&&ct(t,r)}}}function te(t,e){if(!e)return!1;let r=t;for(;r&&r!==e;)r=r.parentNode;return r&&r===e}var wn={capture:!1,passive:!0};function pt(t,e,r,n=wn){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}var ht=ve(null),ft=({children:t})=>{let[e,r]=B(null);return h(ht.Provider,{value:e},t,h("div",{class:"popup-provider",ref:r}))};function Ae(t,e=0,r=1){return t<e?e:t>r?r:t}var re={popupAnchorX:.5,popupAnchorY:0,targetAnchorX:.5,targetAnchorY:1};function yr(t,e,r){let n=t.getBoundingClientRect(),o=e?.getBoundingClientRect(),i=window.innerWidth,s=window.innerHeight,l=fr({popupAnchor:r.popupAnchorX??re.popupAnchorX,popupSize:n.width,targetAnchor:r.targetAnchorX??re.targetAnchorX,targetPosition:o?.left??0,targetSize:o?.width??i,viewSize:i}),d=fr({popupAnchor:r.popupAnchorY??re.popupAnchorY,popupSize:n.height,targetAnchor:r.targetAnchorY??re.targetAnchorY,targetPosition:o?.top??0,targetSize:o?.height??s,viewSize:s});return{maxWidth:W(l.maxSize),left:l.anchor<=.5?W(l.lower):"unset",right:l.anchor>.5?W(l.upper):"unset",maxHeight:W(d.maxSize),top:d.anchor<=.5?W(d.lower):"unset",bottom:d.anchor>.5?W(d.upper):"unset",transformOrigin:`${lt(l.anchor)} ${lt(d.anchor)}`}}function fr(t,e=1.33){let r=mr(t);if(r.maxSize-t.popupSize>0)return r;let n=mr({...t,popupAnchor:1-t.popupAnchor,targetAnchor:1-t.targetAnchor});return n.maxSize/r.maxSize>e?n:r}function mr(t){let e=Ae(t.targetPosition+t.targetSize*t.targetAnchor,0,t.viewSize),r=Math.max(t.popupAnchor>0?e/t.popupAnchor:0,t.popupAnchor<1?(t.viewSize-e)/(1-t.popupAnchor):0);return{anchor:t.popupAnchor,lower:e-r*t.popupAnchor,upper:t.viewSize-e+r*(1-t.popupAnchor),maxSize:r}}var gr=({children:t,class:e,hot:r=!1,open:n=!1,overlay:o=!1,positioning:i=re,ref:s,target:l,onCloseRequested:d})=>{let c=we(ht),[_,x]=B(!1),b=hr(s);if(Pe(()=>n&&d?pt(window,"pointerdown",A=>{te(A.target,b.current)||d(A)},{capture:!0}):void 0,[n,d]),ir(()=>{let R=b.current;if(!n&&_&&R)return R.classList.remove("popup--open"),pt(R,"transitionend",()=>x(!1),{once:!0});if(R){let A=yr(R,l,i);Object.assign(R.style,A),R.classList.add("popup--open"),x(!0)}},[n,l]),!((n||_||r)&&c))return null;let P={open:_};return Ut(h(G,null,o&&h("div",{class:D("popup-overlay",P)}),h("div",{class:X(D("popup",P),e),ref:b},typeof t=="function"?t():t)),c)};var Tn=100,Ce="scroll-indicator",Me=class extends L{activityDebounceHandle;indicator=null;parent;render(){return h("div",{ref:this.onScrollIndicatorRef,class:D(Ce,{horizontal:this.props.horizontal,vertical:!this.props.horizontal})})}componentWillUnmount(){clearTimeout(this.activityDebounceHandle)}onScrollIndicatorRef=e=>{this.indicator=e;let r=e?.parentElement;this.parent!==r&&(this.parent?.removeEventListener("scroll",this.onScroll),this.parent=r,r&&(r.addEventListener("scroll",this.onScroll,{passive:!0}),this.onScroll()))};onScroll=()=>{let e=this.parent,r=this.indicator,n,o,i;this.props.horizontal?(n=e.clientWidth,o=e.scrollWidth,i=e.scrollLeft):(n=e.clientHeight,o=e.scrollHeight,i=e.scrollTop);let s=n<o;s&&(r.style.setProperty("--scroll-indicator__offset",""+i/o),r.style.setProperty("--scroll-indicator__proportion",""+n/o),r.classList.add(Y(Ce,"active")),clearTimeout(this.activityDebounceHandle),this.activityDebounceHandle=setTimeout(this.onInactive,Tn)),r.classList.toggle(Y(Ce,"visible"),s)};onInactive=()=>{this.indicator?.classList.remove(Y(Ce,"active"))}};var ke=class extends L{state={navIndex:0,navSource:"self",isOpen:!1,search:""};wrapperRef=Z();inputRef=Z();listRef=Z();filteredOptions=null;render({options:e,value:r},{navIndex:n,isOpen:o,search:i}){let s=()=>{let d=i.toLowerCase(),c=[];this.filteredOptions=[];for(let _=0;_<e.length;++_){let x=e[_],b=x.title??""+x.value,P=-1;if(i&&(P=b.toLowerCase().indexOf(d))===-1)continue;let R=P+d.length;c.push(h("li",{key:_,tabIndex:-1,onClick:()=>this.selectOption(x),onPointerMove:this.onOptionPointerEnter,class:D("select__option",{selected:x.value===r,nav:n===this.filteredOptions.length})},P===-1?b:h(G,null,b.slice(0,P),h("span",{class:"select__search"},b.slice(P,R)),b.slice(R)))),this.filteredOptions.push(x)}return c.length===0&&i&&c.push(h("li",{class:"select__no-results"},"No results.")),h(G,null,h("ul",{class:"select__list",ref:this.listRef},c),h(Me,null))},l=e.find(d=>d.value===r);return h("div",{class:D("select",{open:o}),ref:this.wrapperRef,onfocusout:this.onFocusOut},h("input",{class:"select__input",type:"text",ref:this.inputRef,onKeyDown:this.onKeyDown,onInput:this.onInput,onClick:()=>this.toggleDropdown(),placeholder:l?l.title??""+l.value:"",value:o?i:""}),h(gr,{class:"select__popup",open:o,target:this.wrapperRef.current,onCloseRequested:this.onPopupCloseRequested},s))}componentDidUpdate(){let e;this.state.isOpen&&this.state.navSource!=="pointer"&&(e=this.listRef.current?.children[this.state.navIndex])&&Sn(e)}toggleDropdown(e=!this.state.isOpen){if(this.state.isOpen===e)return;let r={isOpen:e};e&&(r.search="",r.navIndex=Math.max(this.props.options.findIndex(n=>n.value===this.props.value),0),r.navSource="self"),this.setState(r)}selectOption(e){this.props.onChange(e.value),this.toggleDropdown(!1),this.inputRef.current?.focus()}onPopupCloseRequested=e=>{te(e.target,this.wrapperRef.current)||(e.preventDefault(),this.toggleDropdown(!1))};onFocusOut=e=>{e.relatedTarget&&!(te(e.relatedTarget,this.listRef.current)||te(e.relatedTarget,this.wrapperRef.current))&&this.toggleDropdown(!1)};onOptionPointerEnter=e=>{let r=this.listRef.current?.children;if(r){for(let n=0;n<r.length;++n)if(r[n]===e.target){n!==this.state.navIndex&&this.setState({navIndex:n,navSource:"pointer"});break}}};onInput=()=>{this.setState({isOpen:!0,search:this.inputRef.current?.value,navIndex:0,navSource:"self"})};onKeyDown=e=>{let r=this.filteredOptions??this.props.options,{isOpen:n,navIndex:o}=this.state;switch(e.code){case"ArrowUp":n||this.toggleDropdown(!0),this.setState({navIndex:Math.max(o-1,0),navSource:"arrows"});break;case"ArrowDown":n||this.toggleDropdown(!0),this.setState({navIndex:Math.min(o+1,r.length-1),navSource:"arrows"});break;case"Enter":case"NumpadEnter":{let i=r[o];this.state.isOpen&&i&&this.selectOption(i);break}case"Escape":this.toggleDropdown(!1);break;default:return}e.preventDefault()}};function Sn(t){let e;if(!(e=t.offsetParent))return;let r=t.offsetTop,n=e.scrollTop;if(n>r){e.scrollTo(0,r);return}let o=t.offsetHeight,i=e.offsetHeight;n+i<r+o&&e.scrollTo(0,r+o-i)}var _r=({points:t,resolution:e=100})=>{let r=Ee(()=>{let n=e/2,o="";for(let i=0;i<t.length;i+=2)o+=`${Math.round(n+t[i]*n)},${Math.round(n+t[i+1]*n)} `;return o},[t,e]);return h("svg",{class:"shape-preview",viewBox:`0 0 ${e} ${e}`},h("polygon",{points:r}))};var xr=({onChange:t,value:e,shapes:r})=>{let{t:n}=ur();return h("div",{class:"shape-picker"},r.map(o=>h("button",{class:D("shape-picker__button",{selected:o.key===e}),type:"button",key:o.key,onClick:()=>t(o.key),title:n(`shapes.${o.key}`)},h(_r,{points:o.points}))))};var vr=({onChange:t,value:e})=>h("button",{class:D("switch",{on:e}),onClick:()=>t(!e)},h("div",{class:"switch__thumb"}));var Ie=({onChange:t,value:e})=>h("div",{class:"text-input"},h("input",{class:"text-input__input",type:"text",onChange:r=>t(r.target.value),value:e}));function mt(){Pe(()=>{let t,e,r=l=>{l.defaultPrevented&&(t=l.pointerId)},n=l=>{l.pointerId===t&&(t=void 0,e=l.timeStamp)},o=l=>{e!==void 0&&l.timeStamp-e<Number.EPSILON&&(l.preventDefault(),l.stopImmediatePropagation(),e=void 0)},i={passive:!0},s={capture:!0};return window.addEventListener("pointerdown",r,i),window.addEventListener("pointerup",n,i),window.addEventListener("click",o,s),()=>{window.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",n),window.removeEventListener("click",o,s)}},[])}var ce=[{key:"circle",points:[.85,0,.821,-.22,.736,-.425,.601,-.601,.425,-.736,.22,-.821,0,-.85,-.22,-.821,-.425,-.736,-.601,-.601,-.736,-.425,-.821,-.22,-.85,-0,-.821,.22,-.736,.425,-.601,.601,-.425,.736,-.22,.821,-0,.85,.22,.821,.425,.736,.601,.601,.736,.425,.821,.22]},{key:"square",points:[.85,-.85,-.85,-.85,-.85,.85,.85,.85]},{key:"diamond",points:[1,0,0,-1,-1,-0,-0,1]},{key:"triangle",points:[1,-.85,-1,-.85,-0,.85]},{key:"star",points:[.577,0,.866,-.5,.289,-.5,0,-1,-.289,-.5,-.866,-.5,-.577,-0,-.866,.5,-.289,.5,-0,1,.289,.5,.866,.5]}];var Rn=new Array(25).fill(0).map((t,e)=>({value:e+1})),br=()=>{mt();let[t,e]=B(""),[r,n]=B("0.000"),[o,i]=B(1),[s,l]=B(!1),[d,c]=B("");return h(ee,{url:"./locale/en.json"},h(ft,null,h(ut,null,"Regular Button"),h(Te,{glyph:"♻️"}),h(Ie,{value:t,onChange:e}),h(Re,{value:r,onChange:n}),h(ke,{options:Rn,value:o,onChange:i}),h(vr,{value:s,onChange:l}),h(xr,{shapes:ce,value:d,onChange:c})))};function ne(t){return()=>h(G,null,t)}var An=({onChange:t,value:e})=>h(Te,{class:"array-field__add-button",glyph:"➕",onClick:()=>t(e?.concat(null)??[null])}),Pr=({depth:t=0,field:e,key:r,rows:n,title:o,value:i,onChange:s,pushRows:l})=>{n.push({kind:"custom",key:`${r}._begin`,depth:t,content:ne("["),title:o}),i?.forEach((d,c)=>l({depth:t+1,field:e.items,key:`${r}.${c}`,rows:n,value:d,title:`[${c}]`,pushRows:l,onChange(_){let x=i.slice();x[c]=_,s(x)}})),n.push({kind:"editor",key:`${r}._add`,depth:t,editor:An,value:i,onChange:s}),n.push({kind:"custom",key:`${r}._end`,depth:t,content:ne("]")})};var Er=({depth:t=0,field:e,key:r,rows:n,title:o,value:i,pushRows:s,onChange:l})=>{n.push({kind:"custom",key:`${r}._begin`,depth:t,content:ne("{"),title:o}),e.props.forEach(d=>s({depth:t+1,field:d,key:`${r}.${d.key}`,rows:n,value:i?.[d.key],title:d.title??d.key,pushRows:s,onChange:c=>l({...i,[d.key]:c})})),n.push({kind:"custom",key:`${r}._end`,depth:t,content:ne("}")})};function wr(t){return({depth:e,key:r,rows:n,title:o,value:i,onChange:s})=>{n.push({kind:"editor",key:r,depth:e,editor:t,title:o,value:i,onChange:s})}}var Zs={object:Er,array:Pr,string:wr(Ie)},Tr={};Object.assign(Tr,{kind:"object",props:[{kind:"string",key:"aaa"},{kind:"array",key:"bbb",items:Tr}]});function $(){this.t=[]}function H(){this.i=new Set,this.u=[]}$.prototype.o=null,$.prototype.h=function(){return this.o||(this.o=this.t.slice()),this.o},$.prototype.l=function(t){this.t.push(t),this.o=null},$.prototype.g=function(){return this.t.length!==0&&(this.t=[],this.o=null,!0)},$.prototype.m=function(){return this.t.length},$.prototype.P=function(t){let{t:e}=this,r,n=e.length-1;for(;n>=0&&(r=e[n],r!==t&&r.p!==t);)--n;return n!==-1&&(this.t.splice(n,1),this.o=null,!0)},$.prototype.v=function(t){let e=this.t.lastIndexOf(t);e!==-1&&(this.t.splice(e,1),this.o=null)},H.prototype.o=null,H.prototype.h=function(){return this.o||(this.o=Array.from(this.i.values()).concat(this.u)),this.o},H.prototype.l=function(t){if(t.p){if(this.i.has(t.p))return;this.u.push(t)}else this.i.add(t),this.A(t);this.o=null},H.prototype.g=function(){return!!this.m()&&(this.i.clear(),this.u=[],this.o=null,!0)},H.prototype.m=function(){return this.i.size+this.u.length},H.prototype.P=function(t){return this.i.delete(t)?(this.o=null,!0):this.A(t)},H.prototype.v=function(t){let e=this.u.lastIndexOf(t);e!==-1&&(this.u.splice(e,1),this.o=null)},H.prototype.A=function(t){let e=this.u.length-1;for(;e>=0;){if(this.u[e].p===t)return this.u.splice(e,1),this.o=null,!0;--e}return!1};var ga=window.devicePixelRatio||1;var Ka=1/12;var ja=Math.PI*2;var Ol=window.devicePixelRatio||1;var oe=class{constructor(e){this.alphabet=e;let r=e.length;if(r===0)throw new Error("Alphabet cannot be empty.");if(r&r-1)throw new Error("Alphabet length must be a power of two.");this.shift=Math.trunc(Math.log(r)/Math.LN2),this.mask=Math.trunc(r-1)}shift;mask;index=0;next(){let e="",r=this.index++;do e=this.alphabet[r&this.mask]+e,r>>=this.shift;while(r>0);return e}static createBase32(){return new oe("0123456789abcdefghijklmnopqrstuv")}};function bt(t,e){if(!t)return!1;let r=t.indexOf(e);return r===-1?!1:(t.splice(r,1),!0)}var Rr=Rt(wt()),De=class extends Rr.default{toBBox({source:e,destination:r}){return{maxX:Math.max(e.x,r.x),minX:Math.min(e.x,r.x),maxY:Math.max(e.y,r.y),minY:Math.min(e.y,r.y)}}compareMinX(e,r){return Math.min(e.source.x,e.destination.x)-Math.min(r.source.x,r.destination.x)}compareMinY(e,r){return Math.min(e.source.y,e.destination.y)-Math.min(r.source.y,r.destination.y)}};var Ar=Rt(wt()),Le=class extends Ar.default{toBBox({x:e,y:r}){return{maxX:e,minX:e,maxY:r,minY:r}}compareMinX(e,r){return e.x-r.x}compareMinY(e,r){return e.y-r.y}};function Ge(t,e,r=t,n=e,o=Number.EPSILON){return{maxX:r+o,minX:t-o,maxY:n+o,minY:e-o}}var Ne=class{identity;edges=new Set;edgeTree=new De;nodes=new Set;nodeTree=new Le;constructor(e){this.identity=e.identity}getOrCreateNodeAt(e,r){let n=this.getNodeAt(e,r);return n||(n={id:this.identity.next(),x:e,y:r},this.nodes.add(n),this.nodeTree.insert(n)),n}removeNode(e){return this.nodes.delete(e)?(e.edges?.forEach(r=>this.removeEdge(r)),this.nodeTree.remove(e),!0):!1}getOrCreateEdge(e,r){if(!this.nodes.has(e)||!this.nodes.has(r))throw new Error("Src and dst nodes must be part of the same graph to form a connection.");let n=this.findEdge(e,r);return n||(n={source:e,destination:r},(e.edges??=[]).push(n),(r.edges??=[]).push(n),this.edges.add(n),this.edgeTree.insert(n)),n}removeEdge(e){return this.edges.delete(e)?(bt(e.source.edges,e),bt(e.destination.edges,e),!0):!1}beginMoveNodes(e){let r=new Set;for(let n of e)this.nodeTree.remove(n),n.edges?.forEach(o=>r.add(o));r.forEach(n=>this.edgeTree.remove(n))}endMoveNodes(e){let r=new Set;for(let{ref:n,x:o,y:i}of e){if(n.x=o,n.y=i,this.getNodeAt(n.x,n.y))throw new Error("Attempted to move a node to an occupied cell!");this.nodeTree.insert(n),n.edges?.forEach(s=>r.add(s))}this.edgeTree.load(Array.from(r))}getNodeAt(e,r){let n=this.nodeTree.search(Ge(e,r));if(n.length>1)throw new Error(`More than one node found at [ ${e}, ${r} ]`);return n.length>0?n[0]:null}getNodesWithin(e,r,n,o){return this.nodeTree.search(Ge(e,r,n,o))}getEdgesWithin(e,r,n,o){return this.edgeTree.search(Ge(e,r,n,o))}};var Be=class extends Ne{constructor(e){super(e)}findEdge(e,r){let n=e.edges,o=r.edges;return n&&o&&(n.length<o.length?n.find(i=>i.destination===r):o.find(i=>i.source===e))}};var Tt=new Be({identity:oe.createBase32()});function Cr(t,e){return Math.round(t+Math.random()*(e-t))}function Oe(t,e){return Math.trunc(t+Math.random()*(e-t))}var kr=1e5,Fn=1e4,Fe=Math.sqrt(kr),St=[],Ve=0;for(;Ve<kr;){let t=Cr(-Fe,Fe),e=Cr(-Fe,Fe);if(Tt.getNodeAt(t,e))continue;let r=Tt.getOrCreateNodeAt(t,e);r.color=Oe(0,16777215+1),r.shape=ce[Oe(0,ce.length)].key,St.push(r),++Ve}var Mr=0;for(;Mr<Fn;){let t=Oe(0,Ve),e=Oe(0,Ve);Tt.getOrCreateEdge(St[t],St[e]),++Mr}zt(h(br,null),document.getElementById("root"));})();
