"use strict";(()=>{var vo=Object.create;var ct=Object.defineProperty;var xo=Object.getOwnPropertyDescriptor;var bo=Object.getOwnPropertyNames;var Po=Object.getPrototypeOf,So=Object.prototype.hasOwnProperty;var Eo=(t,e,r)=>e in t?ct(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ro=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Co=(t,e,r,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of bo(e))!So.call(t,n)&&n!==r&&ct(t,n,{get:()=>e[n],enumerable:!(o=xo(e,n))||o.enumerable});return t};var Qt=(t,e,r)=>(r=t!=null?vo(Po(t)):{},Co(e||!t||!t.__esModule?ct(r,"default",{value:t,enumerable:!0}):r,t));var W=(t,e,r)=>(Eo(t,typeof e!="symbol"?e+"":e,r),r);var Zt=Ro((jt,Kt)=>{(function(t,e){typeof jt=="object"&&typeof Kt<"u"?Kt.exports=e():typeof define=="function"&&define.amd?define(e):(t=t||self).RBush=e()})(jt,function(){"use strict";function t(l,c,f,v,m){(function y(x,S,E,R,I){for(;R>E;){if(R-E>600){var A=R-E+1,O=S-E+1,me=Math.log(A),$=.5*Math.exp(2*me/3),oe=.5*Math.sqrt(me*$*(A-$)/A)*(O-A/2<0?-1:1),ne=Math.max(E,Math.floor(S-O*$/A+oe)),_o=Math.min(R,Math.floor(S+(A-O)*$/A+oe));y(x,S,ne,_o,I)}var ke=x[S],ye=E,B=R;for(e(x,E,S),I(x[R],ke)>0&&e(x,E,R);ye<B;){for(e(x,ye,B),ye++,B--;I(x[ye],ke)<0;)ye++;for(;I(x[B],ke)>0;)B--}I(x[E],ke)===0?e(x,E,B):e(x,++B,R),B<=S&&(E=B+1),S<=B&&(R=B-1)}})(l,c,f||0,v||l.length-1,m||r)}function e(l,c,f){var v=l[c];l[c]=l[f],l[f]=v}function r(l,c){return l<c?-1:l>c?1:0}var o=function(l){l===void 0&&(l=9),this._maxEntries=Math.max(4,l),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function n(l,c,f){if(!f)return c.indexOf(l);for(var v=0;v<c.length;v++)if(f(l,c[v]))return v;return-1}function i(l,c){s(l,0,l.children.length,c,l)}function s(l,c,f,v,m){m||(m=T(null)),m.minX=1/0,m.minY=1/0,m.maxX=-1/0,m.maxY=-1/0;for(var y=c;y<f;y++){var x=l.children[y];a(m,l.leaf?v(x):x)}return m}function a(l,c){return l.minX=Math.min(l.minX,c.minX),l.minY=Math.min(l.minY,c.minY),l.maxX=Math.max(l.maxX,c.maxX),l.maxY=Math.max(l.maxY,c.maxY),l}function u(l,c){return l.minX-c.minX}function p(l,c){return l.minY-c.minY}function g(l){return(l.maxX-l.minX)*(l.maxY-l.minY)}function _(l){return l.maxX-l.minX+(l.maxY-l.minY)}function b(l,c){return l.minX<=c.minX&&l.minY<=c.minY&&c.maxX<=l.maxX&&c.maxY<=l.maxY}function P(l,c){return c.minX<=l.maxX&&c.minY<=l.maxY&&c.maxX>=l.minX&&c.maxY>=l.minY}function T(l){return{children:l,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w(l,c,f,v,m){for(var y=[c,f];y.length;)if(!((f=y.pop())-(c=y.pop())<=v)){var x=c+Math.ceil((f-c)/v/2)*v;t(l,x,c,f,m),y.push(c,x,x,f)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(l){var c=this.data,f=[];if(!P(l,c))return f;for(var v=this.toBBox,m=[];c;){for(var y=0;y<c.children.length;y++){var x=c.children[y],S=c.leaf?v(x):x;P(l,S)&&(c.leaf?f.push(x):b(l,S)?this._all(x,f):m.push(x))}c=m.pop()}return f},o.prototype.collides=function(l){var c=this.data;if(!P(l,c))return!1;for(var f=[];c;){for(var v=0;v<c.children.length;v++){var m=c.children[v],y=c.leaf?this.toBBox(m):m;if(P(l,y)){if(c.leaf||b(l,y))return!0;f.push(m)}}c=f.pop()}return!1},o.prototype.load=function(l){if(!l||!l.length)return this;if(l.length<this._minEntries){for(var c=0;c<l.length;c++)this.insert(l[c]);return this}var f=this._build(l.slice(),0,l.length-1,0);if(this.data.children.length)if(this.data.height===f.height)this._splitRoot(this.data,f);else{if(this.data.height<f.height){var v=this.data;this.data=f,f=v}this._insert(f,this.data.height-f.height-1,!0)}else this.data=f;return this},o.prototype.insert=function(l){return l&&this._insert(l,this.data.height-1),this},o.prototype.clear=function(){return this.data=T([]),this},o.prototype.remove=function(l,c){if(!l)return this;for(var f,v,m,y=this.data,x=this.toBBox(l),S=[],E=[];y||S.length;){if(y||(y=S.pop(),v=S[S.length-1],f=E.pop(),m=!0),y.leaf){var R=n(l,y.children,c);if(R!==-1)return y.children.splice(R,1),S.push(y),this._condense(S),this}m||y.leaf||!b(y,x)?v?(f++,y=v.children[f],m=!1):y=null:(S.push(y),E.push(f),f=0,v=y,y=y.children[0])}return this},o.prototype.toBBox=function(l){return l},o.prototype.compareMinX=function(l,c){return l.minX-c.minX},o.prototype.compareMinY=function(l,c){return l.minY-c.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(l){return this.data=l,this},o.prototype._all=function(l,c){for(var f=[];l;)l.leaf?c.push.apply(c,l.children):f.push.apply(f,l.children),l=f.pop();return c},o.prototype._build=function(l,c,f,v){var m,y=f-c+1,x=this._maxEntries;if(y<=x)return i(m=T(l.slice(c,f+1)),this.toBBox),m;v||(v=Math.ceil(Math.log(y)/Math.log(x)),x=Math.ceil(y/Math.pow(x,v-1))),(m=T([])).leaf=!1,m.height=v;var S=Math.ceil(y/x),E=S*Math.ceil(Math.sqrt(x));w(l,c,f,E,this.compareMinX);for(var R=c;R<=f;R+=E){var I=Math.min(R+E-1,f);w(l,R,I,S,this.compareMinY);for(var A=R;A<=I;A+=S){var O=Math.min(A+S-1,I);m.children.push(this._build(l,A,O,v-1))}}return i(m,this.toBBox),m},o.prototype._chooseSubtree=function(l,c,f,v){for(;v.push(c),!c.leaf&&v.length-1!==f;){for(var m=1/0,y=1/0,x=void 0,S=0;S<c.children.length;S++){var E=c.children[S],R=g(E),I=(A=l,O=E,(Math.max(O.maxX,A.maxX)-Math.min(O.minX,A.minX))*(Math.max(O.maxY,A.maxY)-Math.min(O.minY,A.minY))-R);I<y?(y=I,m=R<m?R:m,x=E):I===y&&R<m&&(m=R,x=E)}c=x||c.children[0]}var A,O;return c},o.prototype._insert=function(l,c,f){var v=f?l:this.toBBox(l),m=[],y=this._chooseSubtree(v,this.data,c,m);for(y.children.push(l),a(y,v);c>=0&&m[c].children.length>this._maxEntries;)this._split(m,c),c--;this._adjustParentBBoxes(v,m,c)},o.prototype._split=function(l,c){var f=l[c],v=f.children.length,m=this._minEntries;this._chooseSplitAxis(f,m,v);var y=this._chooseSplitIndex(f,m,v),x=T(f.children.splice(y,f.children.length-y));x.height=f.height,x.leaf=f.leaf,i(f,this.toBBox),i(x,this.toBBox),c?l[c-1].children.push(x):this._splitRoot(f,x)},o.prototype._splitRoot=function(l,c){this.data=T([l,c]),this.data.height=l.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(l,c,f){for(var v,m,y,x,S,E,R,I=1/0,A=1/0,O=c;O<=f-c;O++){var me=s(l,0,O,this.toBBox),$=s(l,O,f,this.toBBox),oe=(m=me,y=$,x=void 0,S=void 0,E=void 0,R=void 0,x=Math.max(m.minX,y.minX),S=Math.max(m.minY,y.minY),E=Math.min(m.maxX,y.maxX),R=Math.min(m.maxY,y.maxY),Math.max(0,E-x)*Math.max(0,R-S)),ne=g(me)+g($);oe<I?(I=oe,v=O,A=ne<A?ne:A):oe===I&&ne<A&&(A=ne,v=O)}return v||f-c},o.prototype._chooseSplitAxis=function(l,c,f){var v=l.leaf?this.compareMinX:u,m=l.leaf?this.compareMinY:p;this._allDistMargin(l,c,f,v)<this._allDistMargin(l,c,f,m)&&l.children.sort(v)},o.prototype._allDistMargin=function(l,c,f,v){l.children.sort(v);for(var m=this.toBBox,y=s(l,0,c,m),x=s(l,f-c,f,m),S=_(y)+_(x),E=c;E<f-c;E++){var R=l.children[E];a(y,l.leaf?m(R):R),S+=_(y)}for(var I=f-c-1;I>=c;I--){var A=l.children[I];a(x,l.leaf?m(A):A),S+=_(x)}return S},o.prototype._adjustParentBBoxes=function(l,c,f){for(var v=f;v>=0;v--)a(c[v],l)},o.prototype._condense=function(l){for(var c=l.length-1,f=void 0;c>=0;c--)l[c].children.length===0?c>0?(f=l[c-1].children).splice(f.indexOf(l[c]),1):this.clear():i(l[c],this.toBBox)},o})});var To=[],h={__e(t,e){for(;e=e.__;)if(28&e.flags&&1024&~e.flags)try{if(e.type.getDerivedStateFromError&&e.__c.setState(e.type.getDerivedStateFromError(t)),e.__c.componentDidCatch&&e.__c.componentDidCatch(t),16384&e.flags)return void(e.flags|=512)}catch(r){t=r}throw t}};function Oe(t,e){t.__h==null&&(t.__h=[]),t.__h.push(e)}function or(t,e){h.__c&&h.__c(e,t),t.some(r=>{try{for(t=r.__h.length;t--;)r.__h.shift()()}catch(o){h.__e(o,r)}})}var wo=0;function d(t,e,r){let o,n,i,s={};for(i in e)i=="key"?o=e[i]:i=="ref"?n=e[i]:s[i]=e[i];if(arguments.length>3)for(r=[r],i=3;arguments.length>i;i++)r.push(arguments[i]);return arguments.length>2&&(s.children=r),ft(t,s,o,n,0)}function ft(t,e,r,o,n){let i={type:t,props:e,key:r,ref:o,constructor:void 0,__v:n||++wo};return h.vnode!=null&&h.vnode(i),i}function nr(t){return t==null||typeof t=="boolean"?null:typeof t=="object"?Array.isArray(t)?ft(L,{children:t},null,null,0):t:typeof t=="function"?t:t+""}function U(){return{current:null}}function L(t){return t.children}function Ge(t,e,r,o){if(t!==e){t&&Ge(null,t,null,o);try{typeof e=="function"?e(r):e&&(e.current=r)}catch(n){h.__e(n,o)}}}function Ie(t,e,r){e[0]==="-"?t.style.setProperty(e,r):t.style[e]=r??""}function De(t,e,r,o,n){let i;e:if(e==="style")if(typeof r=="string")Ie(t,"cssText",r);else{if(typeof o=="string"&&Ie(t,"cssText",o=""),o)for(e in o)r&&e in r||Ie(t,e,"");for(e in r)o&&r[e]===o[e]||Ie(t,e,r[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?o||t.addEventListener(e,i?tr:er,i):t.removeEventListener(e,i?tr:er,i);else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r!=null&&(r!==!1||e[0]==="a"&&e[1]==="r")?t.setAttribute(e,r):t.removeAttribute(e))}}function er(t){this.l[t.type+!1](h.event?h.event(t):t),this.t&&(this.value==null||t.type!=="input"&&t.type!=="change"||(this.value=this.u),this.checked!=null&&t.type==="change"&&(this.checked=this.u))}function tr(t){this.l[t.type+!0](h.event?h.event(t):t)}function ir(t,e,r,o){let n,i,s=e.type,a=t?t.props:e.props;if(e&&e.__c?n=e.__c:(e.__c=n={props:a,context:o,forceUpdate:e.rerender.bind(null,e)},e.flags|=16384),t&&t.__v===e.__v)return n.props=a,void(e.flags|=32768);n.context=o,e.props=n.props=a,n.__i=e;let u=0;for(;25>u;)u++,e.flags&=-16385,(i=h.__r)&&i(e),i=s.call(n,n.props,n.context),16384&e.flags||(u=25);return e.flags&=-16385,n.getChildContext!=null&&(e.c=Object.assign({},r,n.getChildContext())),i}function sr(t,e,r,o){let n,i,s,a,u,p,g=e.type,_=t?t.props:e.props;if(e&&e.__c?n=e.__c:(e.__c=n=new g(_,o),n.state||(n.state={}),i=!0,e.flags|=16384),n.__s==null&&(n.__s=n.state),g.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=Object.assign({},n.__s)),Object.assign(n.__s,g.getDerivedStateFromProps(_,n.__s))),s=n.props,a=n.state,i)g.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),n.componentDidMount!=null&&Oe(e,n.componentDidMount.bind(n));else{if(g.getDerivedStateFromProps==null&&_!==s&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(_,o),!(8192&e.flags)&&n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(_,n.__s,o)===!1||t&&t.__v===e.__v)return n.props=_,n.state=n.__s,void(e.flags|=32768);n.componentWillUpdate!=null&&n.componentWillUpdate(_,n.__s,o)}return n.context=o,e.props=n.props=_,n.state=n.__s,(p=h.__r)&&p(e),e.flags&=-16385,n.__i=e,p=n.render(n.props,n.state,n.context),n.state=n.__s,n.getChildContext!=null&&(e.c=Object.assign({},r,n.getChildContext())),i||(n.getSnapshotBeforeUpdate!=null&&(u=n.getSnapshotBeforeUpdate(s,a)),n.componentDidUpdate!=null&&Oe(e,()=>{n.componentDidUpdate(s,a,u)})),p}var Ao=0,dt=new Set,Mo=t=>{dt.delete(t)||dt.forEach(e=>{e.__c.s.delete(t)})},ie=(t,e)=>{let r={__c:e="__cC"+Ao++,__:t,Consumer:(o,n)=>o.children(n),Provider(o,n){return this.s?o.value!==this.p&&this.s.forEach(ur):(this.s=new Set,(n={})[e]=this,this.getChildContext=()=>n,dt.add(this.__i)),this.p=o.value,o.children}};return r.Provider.__=r.Consumer.contextType=r};function ar(t,e,r){let o,n=0;if(h.unmount&&h.unmount(t),t.flags|=2048,(o=t.ref)&&(o.current&&o.current!==t.__e||Ge(null,o,null,e)),(o=t.__c)&&(Mo(t),o.componentWillUnmount))try{o.componentWillUnmount()}catch(i){h.__e(i,e)}if(o=t.__k)for(;o.length>n;n++)o[n]&&ar(o[n],e,r?16&~t.flags:3&t.flags);!r&&3&t.flags&&t.__e.remove(),t.__e=null}function lr(t,e,r,o){let n,i,s,a,u,p=r.__k&&r.__k.slice()||To,g=p.length,_=g,b=0,P=[];for(n=0;e.length>n;n++){if(u=nr(e[n]),u==null){P[n]=null;continue}let T,w=n+b,l=ko(u,p,w,_);l===-1?a=void 0:(a=p[l],p[l]=void 0,_--);let c=a==null;c?(a=yt(u,r),Ve(t,u,a,o,j(r,w))):(160&a.flags)==160?(T=a.ref,Ve(t,u,a,o,a.__e)):(T=a.ref,mt(t,u,a,o)),i=a.__e,(u.ref||T)&&(s||(s=[]),a.ref=u.ref,s.push(T,u.ref,28&a.flags&&a.__c||i,a));e:if(c){if(l==-1&&b--,3&a.flags){let f=j(r,w);t.insertBefore(a.__e,f)}}else if(l!==w){if(l===w+1){b++;break e}if(l>w){if(_>e.length-w){b+=l-w;break e}b--}else b=w>l&&l==w-1?l-w:0;if(w=n+b,l==n)break e;let f=j(r,w+1);3&a.flags?t.insertBefore(a.__e,f):ht(a,f,t)}P[n]=a}if(r.__k=P,_>0)for(n=g;n--;)p[n]!=null&&ar(p[n],p[n]);if(s)for(n=0;s.length>n;n++)Ge(s[n],s[++n],s[++n],s[++n])}function ko(t,e,r,o){let n=typeof t=="string"?null:t.type,i=n!==null?t.key:void 0,s=-1,a=r-1,u=r+1,p=e[r];if(p===null||p!=null&&p.type===n&&p.key==i)s=r;else if(o>(p!=null?1:0))for(;;){if(a>=0){if(p=e[a],p!=null&&p.type===n&&p.key==i){s=a;break}a--}if(e.length>u){if(p=e[u],p!=null&&p.type===n&&p.key==i){s=u;break}u++}else if(0>a)break}return s}function ht(t,e,r){if(t.__k!=null)for(let o=0;t.__k.length>o;o++){let n=t.__k[o];n&&(n.__=t,28&n.flags?ht(n,e,r):n.__e!=e&&r.insertBefore(n.__e,e))}}function ge(t,e){if(e=e||[],!(t==null||typeof t=="boolean"))if(Array.isArray(t))for(t of t)ge(t,e);else e.push(t);return e}function mt(t,e,r,o){let n,i=r.__e,s=r.flags;if(1&s)return void(e!==r.props&&(i.data=e,r.props=e));if(e.constructor!==void 0)return null;h.__b&&h.__b(r,e),2&s&&(e.__v!==r.__v&&(Io(i,e,r,o),r.__v=e.__v),h.diffed&&h.diffed(r),r.flags&=-42465);let a=t;16&s&&(t=e.props.__P,r.props.__P!==e.props.__P)&&ht(r,t==a?j(r):null,t);try{512&r.flags&&(r.flags^=1536);let u=dr(r),p=e.type.contextType,g=p&&u[p.__c],_=p?g?g.props.value:p.__:u,b=!r||!r.__c;if(n=4&r.flags?sr(e,r,u,_):ir(e,r,u,_),32768&r.flags)r.props=e.props,r.flags&=-32769,e&&e.__v!==r.__v&&(r.flags&=-16385);else{let P=n!=null&&n.type===L&&n.key==null?n.props.children:n;r.__k==null?gt(t,Array.isArray(P)?P:[P],r,o,(160&r.flags)==160?r.__e:b||32&r.flags?null:j(r)):lr(t,Array.isArray(P)?P:[P],r,o)}r.__h!=null&&r.__h.length&&o.push(r)}catch(u){r.flags|=u.then?128:256,h.__e(u,r)}h.diffed&&h.diffed(r),r.flags&=-42465,r.__v=e.__v}function Io(t,e,r,o){let n,i,s,a,u,p,g=r.props,_=r.props=e.props,b=4096&r.flags;for(n in g)i=g[n],n==="key"||n==="children"||(n==="dangerouslySetInnerHTML"?u=i:n in _||De(t,n,null,i,b));for(n in _)i=_[n],n==="key"||(n==="children"?p=i:n==="dangerouslySetInnerHTML"?a=i:i===(s=g[n])&&(n!=="checked"&&n!=="value"||i==null||i===t[n])||De(t,n,i,s,b));a?(i=a.__html,(!u||i!==u.__html&&i!==t.innerHTML)&&(t.innerHTML=i),r.__k=null):(u&&(t.innerHTML=""),lr(t,p&&Array.isArray(p)?p:[p],r,o)),_.value!=null&&t.t?t.u=_.value:_.checked!=null&&t.t&&(t.u=_.checked)}function k(t,e){this.props=t,this.context=e}function Lo(t){if(2048&~t.flags&&16384&t.flags){let e=[];mt(fr(t),ft(t.type,t.props,t.key,t.ref,0),t,e),or(e,t)}}k.prototype.setState=function(t,e){let r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Object.assign({},this.state),typeof t=="function"&&(t=t(Object.assign({},r),this.props)),t&&Object.assign(r,t),t!=null&&this.__i&&(e&&Oe(this.__i,e.bind(this)),this.__i.rerender(this.__i))},k.prototype.forceUpdate=function(t){this.__i&&(this.__i.flags|=8192,t&&Oe(this.__i,t.bind(this)),this.__i.rerender(this.__i))},k.prototype.render=L;var pt,Le=[],Oo=Promise.prototype.then.bind(Promise.resolve());function ur(t){(16384&t.flags||!(t.flags|=16384)||!Le.push(t)||Ne.__r++)&&pt===h.debounceRendering||(pt=h.debounceRendering,(pt||Oo)(Ne))}function Ne(){for(;rr=Ne.__r=Le.length;)for(Le.sort((t,e)=>t.__b-e.__b);rr--;)Lo(Le.shift())}var rr=Ne.__r=0;function yt(t,e){let r,o,n,i=null,s=e?4192&e.flags:0,a=NaN;typeof t=="string"?(s|=1,r=t):t.constructor!==void 0?(s|=1,r=""):(i=t.type,r=t.props||{},o=t.key,n=t.ref,a=t.__v,s|=typeof i=="function"?i.prototype&&"render"in i.prototype?4:r.__P?16:8:2,2&s&&i==="svg"?s|=4096:e&&4096&e.flags&&e.type==="foreignObject"&&(s&=-4097));let u={type:i,props:r,key:o,ref:n,data:typeof i=="function"?{}:null,rerender:ur,flags:s,__k:null,__:e,__v:a,__e:null,__c:null,c:null,__b:e?e.__b+1:0};return h.__i&&h.__i(u,t),u}var cr=t=>28&t.flags&&(!(16&t.flags)||t.props.__P==fr(t.__));function j(t,e){return e==null?j(t.__,t.__.__k.indexOf(t)+1):pr(t,e)||(t.__&&cr(t)?j(t):null)}function pr(t,e){if(t.__k==null)return null;for(e=e||0;t.__k.length>e;e++){let r=t.__k[e];if(r!=null){if(3&r.flags)return r.__e;if(cr(r)){let o=pr(r);if(o)return o}}}return null}function dr(t){let e=t.c,r=t.__;for(;e==null&&r;)e=r.c,r=r.__;return e}function fr(t){let e=16&t.flags?t.props.__P:null,r=t.__;for(;e==null&&r;)16&r.flags?e=r.props.__P:2&r.flags&&(e=r.__e),r=r.__;return e}function Ve(t,e,r,o,n){let i;h.__b&&h.__b(r,e);try{if(28&r.flags){let s=n,a=t;16&r.flags&&(t=e.props.__P)!==a&&(n=null);let u=dr(r),p=e.type.contextType,g=p&&u[p.__c],_=p?g?g.props.value:p.__:u;g&&g.s.add(r),i=4&r.flags?sr(null,r,u,_):ir(null,r,u,_);let b=i!=null&&i.type===L&&i.key==null?i.props.children:i;i=gt(t,Array.isArray(b)?b:[b],r,o,n),r.__h!=null&&r.__h.length&&o.push(r),16&r.flags&&a!==t&&(i=s)}else i=Do(96&r.flags?n:null,r,o);h.diffed&&h.diffed(r),r.flags&=-42465}catch(s){r.__v=0,r.flags|=s.then?128:256,32&r.flags&&(i=n&&n.nextSibling,r.__e=n),h.__e(s,r)}return i}function Do(t,e,r){let o,n,i=e.props,s=e.type,a=e.flags,u=4096&a,p=32&~a;if(96&a)for(;t&&(s?t.localName!==s:t.nodeType!==3);)t=t.nextSibling;let g=t==null;if(1&a)g?t=document.createTextNode(i):t.data!==i&&(t.data=i),e.__e=t;else{if(g&&(t=u?document.createElementNS("http://www.w3.org/2000/svg",s):document.createElement(s,i.is&&i),e.flags=a&=-42465,p=1),64&a)for(o=0;t.attributes.length>o;o++)n=t.attributes[o].name,n in i||t.removeAttribute(n);let _,b,P;for(o in e.type!=="input"&&e.type!=="textarea"&&e.type!=="select"||!i.onInput&&!i.onChange||(i.value!=null?(t.t=!0,t.u=i.value):i.checked!=null&&(t.t=!0,t.u=i.checked)),i)n=i[o],o==="key"||(o==="children"?P=n:o==="dangerouslySetInnerHTML"?_=n:o==="value"?b=n:n==null||!p&&typeof n!="function"||De(t,o,n,null,u));e.__e=t,_?(p&&_.__html&&(t.innerHTML=_.__html),e.__k=null):P!=null&&gt(t,P&&Array.isArray(P)?P:[P],e,r,g?null:t.firstChild),p&&b!=null&&De(t,"value",b,null,0)}return g?null:t.nextSibling}function gt(t,e,r,o,n){let i,s,a,u,p,g=r.__k=[];for(i=0;e.length>i;i++)s=nr(e[i]),s!=null?(a=yt(s,r),g[i]=a,p=Ve(t,s,a,o,n),u=a.__e,28&a.flags||u==n?n=p:u!=null&&t.insertBefore(u,n),a.ref&&Ge(null,a.ref,a.__c||u,a)):g[i]=null;if(96&r.flags&&2&r.flags)for(;n;)i=n,n=n.nextSibling,i.remove();return n}function _t(t){let e,r,o,n=0;function i(s){h.__&&h.__(s,t),s=d(L,{__P:t},[s]),o=t.firstChild,r=[],e?mt(t,s,e,r):(e=yt(s),t.__k=e,o&&(n=n||64),t.ownerSVGElement!==void 0&&(n|=4096),e.flags|=n,e.c={},Ve(t,s,e,r,o)),or(r,e)}return{hydrate(s){n|=32,i(s)},render:i}}function vt(t,e){let r=e&&e.__;r||(r=_t(e)),r.render(t),e.__=r}function No(t){return t.children}function _e(t,e){return d(No,{__P:e},t)}var C=class extends Error{code;isIntlError=!0;constructor(e,r){super(`${e} ${r}`),this.code=e}static is(e){return e?.isIntlError===!0}};W(C,"FORMAT_UNAVAILABLE","FormatUnavailable"),W(C,"INVALID_PARAMETER","InvalidParameter"),W(C,"KEY_NOT_FOUND","KeyNotFound"),W(C,"PARSE_ERROR","KeyNotFound");function _r(t,e,r){for(let o in t){if(o.startsWith("$"))continue;let n=t[o];switch(typeof n){case"string":e[r+o]=n;break;case"object":n!==null&&_r(n,e,`${r}${o}.`)}}return e}function Vo(t){return _r(t,{},"")}function xt(t,e){let r={};for(let o in t)if(Object.prototype.hasOwnProperty.call(t,o)){let n=e(t[o],o);n!=null&&(r[o]=n)}return r}function Et(t){return t[1]??"variable"}function Rt(t,e){let r=t[0];return e!==void 0&&Object.prototype.hasOwnProperty.call(e,r)?""+e[r]:r}function Ct(t,e){let{length:r}=e,o=Et(t);if(t.length-2>r)throw new C(C.INVALID_PARAMETER,`too many parameters for format '${o}'`);for(let n=0;n<r;++n)e[n].call(null,t[2+n],o,n)}function Go(t,e,r){typeof t!="string"&&vr("an identifier",e,r)}function Bo(t,e,r){Fo(t)&&Array.isArray(Ho(t))||vr("a map of messages",e,r)}function Fo(t){return t!==null&&typeof t=="object"}function Ho(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function vr(t,e,r){throw new C(C.INVALID_PARAMETER,`expected parameter ${r+1} of format '${e}' to be ${t}`)}var Uo={y(t,e){let r=t.getFullYear();return e===2&&(r%=100),H(r,e)},M(t,e,{monthsLong:r,monthsShort:o}){let n=t.getMonth();switch(e){case 1:case 2:return H(n+1,e);case 3:return ve(o),o[n];case 4:return ve(r),r[n];default:throw hr()}},d:(t,e)=>H(t.getDate(),e),E(t,e,{weekdaysLong:r,weekdaysShort:o}){let n=t.getDay();switch(e){case 1:case 2:case 3:return ve(o),o[n];case 4:return ve(r),r[n];default:throw hr()}},a:(t,e,{dayPeriod:r})=>(ve(r),r[t.getHours()>=12?1:0]),h(t,e){let r=t.getHours()%12;return H(r===0?12:r,e)},H:(t,e)=>H(t.getHours(),e),m:(t,e)=>H(t.getMinutes(),e),s:(t,e)=>H(t.getSeconds(),e),X(t,e){let r=t.getTimezoneOffset();if(r===0)return"Z";let o=Math.floor(Math.abs(r)/60),n=Math.abs(r)%60;return(r<0?"-":"+")+H(o)+(n!==0||e>1?(e>2?":":"")+H(n):"")}};function ve(t){if(t==null)throw new C(C.FORMAT_UNAVAILABLE,"Cannot use some DateTime formats; Required translations are missing.")}function hr(){return new C(C.FORMAT_UNAVAILABLE,"DateTime format not supported.")}function H(t,e=2){return(""+t).padStart(e,"0")}function zo(t,e,r){let o;switch(typeof e){case"number":case"string":o=new Date(e);break;case"object":if(e!==null&&e instanceof Date){o=e;break}default:throw new C(C.INVALID_PARAMETER,"invalid date")}let n,i="",s=0;for(;s<t.length;)n=t[s++],i+=typeof n=="function"?n(o,t[s++],r):n;return i}function Xo(t){let e=[],{length:r}=t;if(r===0)return()=>"";let o=0,n=0,i=!1,s=t.charCodeAt(0),a=p=>{let g=e.length-1;g>=0&&typeof e[g]=="string"?e[g]+=p:e.push(p)},u=()=>{let p=t.slice(n,o);if(i)a(p||"'");else if(s>=65&&s<=90||s>=97&&s<=122){let g=Uo[p[0]];g&&e.push(g,p.length)}else a(p);n=o};for(;o<r;){let p=t.charCodeAt(o);p===39?(u(),t.charCodeAt(o+1)===39?(a("'"),n+=2,++o):(i=!i,++n)):i||p===s||u(),s=p,++o}return u(),zo.bind(null,e)}var Yo=[Go],mr=t=>{let e=xt(t.formats,Xo);return r=>{Ct(r,Yo);let o=e[r[2]];if(!o)throw new C(C.INVALID_PARAMETER,`DateTime format '${r[2]}' is not configured.`);return n=>o(Rt(r,n),t)}},$o=[Bo],Wo=()=>(t,e)=>{Ct(t,$o);let r=t[2];if(!r.other)throw new C(C.INVALID_PARAMETER,`messages of format '${Et(t)}' must contain the key 'other'`);let o={};for(let n in r)o[n]=e.interpret(r[n]);return n=>(o[Rt(t,n)]??o.other)(n)},jo=[],Ko=()=>t=>(Ct(t,jo),e=>Rt(t,e)),Zo={select:Wo,variable:Ko,date:mr,time:mr},F=class extends C{input;at;constructor(e,r,o){super(C.PARSE_ERROR,e),this.input=r,this.at=o}toString(){let e=Math.max(this.input.lastIndexOf(`
`,this.at-1),0)+1,r=this.input.indexOf(`
`,this.at+1);r===-1?r=this.input.length:this.input[r-1]==="\r"&&--r;let o=`${this.input.slice(e,r)}
${" ".repeat(this.at-e)}^`;return`${this.message} at pos ${this.at}:

${o}

${this.stack}`}};function xr(t){return t===32||t>=9&&t<=13||t===133||t===160||t===6158||t>=8192&&t<=8205||t===8232||t===8233||t===8239||t===8287||t===8288||t===12288||t===65279}function z(t,e){let{length:r}=t,o=e;for(;o<r&&xr(t.charCodeAt(o));)++o;return o}function xe(t,e){let{length:r}=t,o,n=e;for(;n<r&&(o=t[n],o!=="{"&&o!=="}"&&o!==","&&o!=="#"&&o!=="'"&&o!==":"&&!xr(o.charCodeAt(0)));)++n;if(e===n)throw new F(`expected an identifier but ${o?`saw '${o}'`:"saw the end of pattern"} instead`,t,e);return t.slice(e,n)}function yr(t,e,r){let{length:o}=t,n,i=e,s=e,a="";for(;s<o&&(n=t[s],!(n==="{"||n==="}"||r&&n==="#"));){if(n==="'"){if(n=t[++s],n==="'")a+=t.slice(i,s),i=s+1;else if(n==="{"||n==="}"||r&&n==="#"){for(a+=t.slice(i,s-1),i=s;++s<o;)if(n=t[s],n==="'"){if(n=t[s+1],n!=="'")break;a+=t.slice(i,++s),i=s+1}a+=t.slice(i,s),i=++s}}++s}return a+=t.slice(i,s),a}function br(t,e,r,o){let{length:n}=t,i={};r.push(i);let s,a=o,u=[],p=bt(t,e,u,!0);for(i[a]=u;p<n&&(p=z(t,p),s=t[p],s!==","&&s!=="}");){if(a=xe(t,p),p=z(t,p+a.length),s=t[p],s!=="{")throw new F("expected '{'",t,p);u=[],p=bt(t,p+1,u,!0),i[a]=u}return p}function qo(t,e,r,o){let{length:n}=t,i={};r.push(i);let s,a=o,u=z(t,e),p=xe(t,u);for(u+=p.length,i[a]=p;u<n&&(u=z(t,u),s=t[u],s!==","&&s!=="}");){if(a=xe(t,u),u=z(t,u+a.length),s=t[u],s==="{")return br(t,u+1,r,a);if(s!==":")throw new F("expected ':' or '{'",t,u);u=z(t,u+1),p=xe(t,u),u+=p.length,i[a]=p}return u}function Jo(t,e,r){let o=e,n=t[o];if(n==="#")return r.push("#"),o+1;if(n!=="{")throw new F("expected '#' or '{'",t,o);let{length:i}=t;do{o=z(t,o+1);let s=xe(t,o);switch(o=z(t,o+s.length),n=t[o],n){case",":case"}":r.push(s);break;case"{":if(r.length<2)throw new F("expected an identifier but saw a message instead",t,o);o=br(t,o+1,r,s),n=t[o];break;case":":if(r.length<2)throw new F("expected an identifier but saw an attribute instead",t,o);o=qo(t,o+1,r,s),n=t[o];break;default:throw new F(`unexpected character '${n}'`,t,o)}}while(o<i&&n!=="}");return o+1}function bt(t,e,r,o){let n,i=e,s=yr(t,i,o);s&&(r.push(s),i+=s.length);let{length:a}=t;for(;i<a;){if(n=t[i],n==="}"){if(!o)throw new F("unexpected '}'",t,i);++i;break}let u=[];i=Jo(t,i,u),r.push(u),s=yr(t,i,o),s&&(r.push(s),i+=s.length)}return i}function gr(t){let e=[];return bt(t,0,e,!1),e}var Pt=class{formatProvider;constructor(e){this.formatProvider=e}interpret(e,r){let{length:o}=e;if(o===1)return this.interpretElement(e[0],r);let n=new Array(o);for(let i=0;i<o;++i)n[i]=this.interpretElement(e[i],r);return Qo.bind(null,n)}interpretElement(e,r){if(typeof e=="string")return()=>e;let o=e;if(o.length===1&&o[0]==="#"){if(r===void 0)return()=>"#";o=[r]}return this.formatProvider.getFormat(o)(o,this)}};function Qo(t,e){let r="";for(let o=0;o<t.length;++o)r+=t[o](e);return r}var St=class{formatMap;constructor(e){this.formatMap=e}getFormat(e){let r=Et(e),o=this.formatMap[r];if(!o)throw new C(C.FORMAT_UNAVAILABLE,r);return o}},se;(function(t){t[t.Eager=0]="Eager",t[t.Lazy=1]="Lazy",t[t.Off=2]="Off"})(se||(se={}));var ae=class{cacheMode;expansions;interpreter;constructor({cacheMode:e,interpreter:r,translations:o}){this.cacheMode=e??se.Lazy,this.interpreter=r,this.expansions=Vo(o),e===se.Eager&&(this.expansions=xt(this.expansions,n=>r.interpret(gr(n))))}expand(e,r){let o=this.expansions[e];if(o===void 0)throw new C(C.KEY_NOT_FOUND,e);return typeof o=="string"&&(o=this.interpreter.interpret(gr(o)),this.cacheMode!==se.Off&&(this.expansions[e]=o)),o(r)}static fromLocale(e,r=Zo){let o=xt(r,(i,s)=>!e.$format?.[s]&&i.length>0?null:i(e.$format?.[s])),n=new St(o);return new ae({cacheMode:se.Lazy,interpreter:new Pt(n),translations:e})}};var le,M,Tt;Promise.prototype.then.bind(Promise.resolve());var wt,Fe=0,wr=[],Pr=h.__b,Sr=h.__r,Er=h.diffed,Rr=h.__c,Cr=h.unmount;function be(t,e){h.__h&&h.__h(M,t,Fe||e),Fe=0;let r=M.data.__H||(M.data.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function N(t){return Fe=1,Pe(Ar,t)}function Pe(t,e,r){let o=be(le++,2);return o.t=t,o.__i||(o.__=[r?r(e):Ar(void 0,e),n=>{let i=o.t(o.__[0],n);o.__[0]!==i&&(o.__=[i,o.__[1]],o.__i.rerender(o.__i))}],o.__i=M),o.__}function K(t,e){let r=be(le++,3);!h.__s&&Mt(r.__H,e)&&(r.__=t,r.o=e,M.data.__H.__h.push(r))}function At(t,e){let r=be(le++,4);!h.__s&&Mt(r.__H,e)&&(r.__=t,r.o=e,M.__h==null&&(M.__h=[]),M.__h.push(r))}function Se(t){return Fe=5,Pe(He,{current:t})[0]}function Ee(t,e){let r=be(le++,7);return Mt(r.__H,e)?(r.i=t(),r.o=e,r.__h=t,r.i):r.__}function Re(t){let e=function(o){let n=M.c,i=M.__;for(;n==null&&i;)n=i.c,i=i.__;return n}()[t.__c],r=be(le++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.s.add(M)),e.props.value):t.__}h.__b=(t,e)=>{M=null,Pr&&Pr(t,e)},h.__r=t=>{Sr&&Sr(t),M=t,le=0,M.data&&M.data.__H&&(Tt===M?(M.data.__H.__h=[],M.__h=[],M.data.__H.__.forEach(e=>{e.o&&(e.o=void 0),e.i&&(e.i=void 0)})):(t.data&&t.data.__H&&t.data&&t.data.__H.__.forEach(e=>{e.o&&(e.__H=e.o,e.o=void 0),e.i&&(e.__=e.i,e.i=void 0)}),M.data.__H.__h.forEach(Be),M.data.__H.__h.forEach(He),M.data.__H.__h=[])),Tt=t},h.diffed=t=>{Er&&Er(t),Tt=void 0,t.data&&t.data.__H&&t.data.__H.__h.length&&(wr.push(t)!==1&&wt===h.requestAnimationFrame||(wt=h.requestAnimationFrame,(wt||rn)(tn)))},h.__c=(t,e)=>{e.some(r=>{try{r.data&&r.data.__H&&r.data&&r.data.__H.__.forEach(o=>{o.o&&(o.__H=o.o,o.o=void 0),o.i&&(o.__=o.i,o.i=void 0)}),r.__h.forEach(Be),r.__h=r.__h.filter(o=>!o.__||He(o))}catch(o){e.some(n=>{n.__h&&(n.__h=[])}),e=[],h.__e(o,r)}}),Rr&&Rr(t,e)},h.unmount=t=>{if(Cr&&Cr(t),t.data&&t.data.__H){let e;t.data.__H.__.forEach(r=>{try{Be(r)}catch(o){e=o}}),e&&h.__e(e,t)}};var en=h.__e;function tn(){let t;for(;t=wr.shift();)if(2048&~t.flags)try{t.data.__H.__h.forEach(Be),t.data.__H.__h.forEach(He),t.data.__H.__h=[]}catch(e){t.data.__H.__h=[],h.__e(e,t)}}h.__e=function(t,e){let r=e;for(;r=r.__;)if(r.data&&r.data.__e)return r.data.__e(t,e);en(t,e)};var Tr=typeof requestAnimationFrame=="function";function rn(t){let e=()=>{clearTimeout(r),Tr&&cancelAnimationFrame(o),setTimeout(t)},r=setTimeout(e,100),o;Tr&&(o=requestAnimationFrame(e))}function Be(t){let e=M,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),M=e}function He(t){let e=M;t.__c=t.__(),M=e}function Mt(t,e){return!t||t.length!==e.length||e.some((r,o)=>r!==t[o])}function Ar(t,e){return typeof e=="function"?e(t):e}function Mr(t){return"⚠️ "+t}var kt={isLoading:!0,t:()=>""},on={isLoading:!1,t:()=>Mr("LocaleFetchError")},Ue=ie(kt);function It(){return Re(Ue)}var ue=class extends k{state=kt;pendingFetch;componentDidMount(){this.fetchLocale()}componentDidUpdate(e){let r=this.props;e.url!==r.url&&this.fetchLocale()}componentWillUnmount(){this.pendingFetch?.abort()}render(){return d(Ue.Provider,{children:this.props.children,value:this.state})}async fetchLocale(){try{this.setState(kt),this.pendingFetch=new AbortController;let e=await fetch(this.props.url,{credentials:this.props.fetchCredentials,headers:this.props.fetchHeaders,method:"GET",signal:this.pendingFetch.signal});if(!e.ok)throw new Error(`unexpected HTTP response ${e.status} - ${e.statusText}`);let r=await e.json(),o=ae.fromLocale(r,this.props.formats);this.setState({isLoading:!1,t:nn.bind(null,o)})}catch(e){this.setState(on),this.props.onError?.(e)}finally{this.pendingFetch=void 0}}};function nn(t,e,r,o){let n,i,s;if(typeof e=="string")n=e,typeof r=="string"?s=r:(i=r,s=o);else{if(function(a){return typeof a.text=="string"}(e))return e.text;n=e.key,i=e.vars,s=e.fallbackText}try{return t.expand(n,i)}catch(a){return s===void 0?Mr(C.is(a)?a.message:"UnknownError"):s}}function Z(t,e){return`${t}--${e}`}function D(t,e){let r=t;for(let o in e)e[o]&&(r+=` ${Z(t,o)}`);return r}function V(){let{length:t}=arguments,e="";for(let r,o=0;o<t;++o)(r=arguments[o])&&(e+=(e&&" ")+r);return e}function Lt(t){let e="";for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)){let o=t[r];(o||o===0)&&(e+=`--${r}: ${t[r]};`)}return e}function q(t){return Math.trunc(t)+"px"}function Ot(t){return Math.round(t*1e3)/10+"%"}var J=({children:t,class:e,type:r="button",...o})=>d("button",{...o,class:V("button",e),type:r},t),Dt=({class:t,glyph:e,...r})=>d(J,{...r,class:V(Z("button","icon"),t)},e);var kr=({class:t,options:e,value:r,contentRenderer:o,keySelector:n,onChange:i})=>d("div",{class:V("button-group",t)},e.map((s,a)=>d(J,{class:D("button-group__button",{selected:r===s}),key:n?.(s,a)??a,children:o(s,a),onClick:()=>i(s)})));function Ir(t){let e=Ee(sn,[]);return e.ref=t,e}function Nt(t,e){t&&(typeof t=="function"?t(e):t.current=e)}function sn(){let t=null,e=null;return{get ref(){return t},set ref(r){r!==t&&(t&&Nt(t,null),t=r,t&&Nt(t,e))},get current(){return e},set current(r){e=r,t&&Nt(t,r)}}}function ce(t,e){if(!e)return!1;let r=t;for(;r&&r!==e;)r=r.parentNode;return r&&r===e}var Ce={capture:!0},Q={passive:!0},an={capture:!1,passive:!0};function Te(t,e,r,o=an){return t.addEventListener(e,r,o),()=>t.removeEventListener(e,r,o)}var Vt=ie(null),ze=({children:t})=>{let[e,r]=N(null);return d(Vt.Provider,{value:e},t,d("div",{class:"popup-provider",ref:r}))};function ee(t,e=0,r=1){return t<e?e:t>r?r:t}var pe={popupAnchorX:.5,popupAnchorY:0,targetAnchorX:.5,targetAnchorY:1};function Dr(t,e,r){let o=t.getBoundingClientRect(),n=e?.getBoundingClientRect(),i=window.innerWidth,s=window.innerHeight,a=Lr({popupAnchor:r.popupAnchorX??pe.popupAnchorX,popupSize:o.width,targetAnchor:r.targetAnchorX??pe.targetAnchorX,targetPosition:n?.left??0,targetSize:n?.width??i,viewOffset:window.scrollX,viewSize:i}),u=Lr({popupAnchor:r.popupAnchorY??pe.popupAnchorY,popupSize:o.height,targetAnchor:r.targetAnchorY??pe.targetAnchorY,targetPosition:n?.top??0,targetSize:n?.height??s,viewOffset:window.scrollY,viewSize:s});return{maxWidth:q(a.maxSize),left:a.anchor<=.5?q(a.lower):"unset",right:a.anchor>.5?q(a.upper):"unset",maxHeight:q(u.maxSize),top:u.anchor<=.5?q(u.lower):"unset",bottom:u.anchor>.5?q(u.upper):"unset",transformOrigin:`${Ot(a.anchor)} ${Ot(u.anchor)}`}}function Lr(t,e=1.33){let r=Or(t);if(r.size-t.popupSize>=0)return r;let o=Or({...t,popupAnchor:1-t.popupAnchor,targetAnchor:1-t.targetAnchor});return o.size/r.size>e?o:r}function Or(t){let e=ee(t.targetPosition+t.targetSize*t.targetAnchor,0,t.viewSize),r=Math.max(t.popupAnchor>0?e/t.popupAnchor:0,t.popupAnchor<1?(t.viewSize-e)/(1-t.popupAnchor):0),o=Math.min(t.popupSize,r);return{anchor:t.popupAnchor,lower:t.viewOffset+Math.max(e-o*t.popupAnchor,0),upper:t.viewOffset+t.viewSize-Math.max(e+o*(1-t.popupAnchor),0),size:o,maxSize:r}}var we=({children:t,class:e,hot:r=!1,open:o=!1,overlay:n=!1,positioning:i=pe,ref:s,target:a,onCloseRequested:u})=>{let p=Re(Vt),[g,_]=N(!1),b=Ir(s);if(K(()=>o&&u?Te(window,"pointerdown",w=>{ce(w.target,b.current)||u(w)},Ce):void 0,[o,u]),At(()=>{let T=b.current;if(!o&&g&&T)return T.classList.remove("popup--open"),Te(T,"transitionend",()=>_(!1),{once:!0});if(T){let w=Dr(T,a,i);Object.assign(T.style,w),T.classList.add("popup--open"),_(!0)}},[o,a]),!((o||g||r)&&p))return null;let P={open:g};return _e(d(L,null,n&&d("div",{class:D("popup-overlay",P)}),d("div",{class:V(D("popup",P),e),ref:b},typeof t=="function"?t():t)),p)};function te(t){return[(t>>16&255)/255,(t>>8&255)/255,(t&255)/255]}function Xe(t){return t[0]*255<<16|t[1]*255<<8|t[2]*255}function Ye(t){return"#"+t.toString(16).padStart(6,"0")}function Nr(t){let e=t[0],r=t[1],o=t[2],n=Math.max(e,r,o),i=Math.min(e,r,o),s=(n+i)*.5;if(n===i)return[0,0,s];let a=n-i,u=s>.5?a/(2-n-i):a/(n+i),p;switch(n){case e:p=(r-o)/a+(r<o?6:0);break;case r:p=(o-e)/a+2;break;default:p=(e-r)/a+4;break}return[p/6,u,s]}function Vr(t){let e=t[0],r=t[1],o=t[2];if(r===0)return[o,o,o];let n=o<.5?o*(1+r):o+r-o*r,i=o+o-n;return[Gt(i,n,e+1/3),Gt(i,n,e),Gt(i,n,e-1/3)]}function Gt(t,e,r){let o=r;return o<0?o+=1:o>1&&(o-=1),o<1/6?t+(e-t)*6*o:o<1/2?e:o<2/3?t+(e-t)*(2/3-o)*6:t}var ln=/^(-|f[lo].*[^se]$|g.{5,}[^ps]$|z|o[pr]|(W.{5})?[lL]i.*(t|mp)$|an|(bo|s).{4}Im|sca|m.{6}[ds]|ta|c.*[st]$|wido|ini)/;function Gr(t,e){for(let r in t)if(r!=="__source"&&!(r in e))return!0;for(let r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function Br(t){this.props=t}(Br.prototype=new k).isPureReactComponent=!0,Br.prototype.shouldComponentUpdate=function(t,e){return Gr(this.props,t)||Gr(this.state,e)};var Fr=h.__b;h.__b=(t,e)=>{t.type&&t.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null,t.ref=null),Fr&&Fr(t,e)};var un=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Wr(t){function e(r,o){let n=Object.assign({},r);return delete n.ref,t(n,!(o=r.ref||o)||typeof o=="object"&&!("current"in o)?null:o)}return e.$$typeof=un,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}Promise.prototype.then.bind(Promise.resolve());function cn(t){let e=16&t.flags?t.props.__P:null,r=t.__;for(;e==null&&r;)16&r.flags?e=r.props.__P:2&r.flags&&(e=r.__e),r=r.__;return e}var pn=h.__e;h.__e=function(t,e){if(t.then){let r,o=e;for(;o=o.__;)if((r=o.__c)&&r.__c)return r.__c(t,e)}pn(t,e)};var Hr=h.unmount;function Bt(){this.__u=0,this.t=null,this.__P=null,this.o=0}function jr(t){let e=t.__.__c;return e&&e.__e&&e.__e(t)}function $e(){this.u=null,this.l=null}h.unmount=function(t){let e=t.__c;e&&e.__R&&e.__R(),e&&(32&t.flags)==32&&(t.flags|=2),Hr&&Hr(t)},(Bt.prototype=new k).__c=function(t,e){let r=e.__c;if(r.__R!=null)return;let o=this;o.t==null&&(o.t=[]),o.t.push(r);let n=jr(o.__i),i=!1,s=()=>{i||(i=!0,r.__R=null,n?n(a):a())};r.__R=s;let a=()=>{if(!--o.__u){let p;for(this.__P=null,o.setState({__e:!1});p=o.t.pop();)p.forceUpdate()}},u=(32&e.flags)==32;o.__u++||u||(this.__P=document.createElement("div"),o.setState({__e:!0})),t.then(s,s)},Bt.prototype.componentWillUnmount=function(){this.t=[],this.__P=null},Bt.prototype.render=function(t,e){this.__P==null&&(this.__P=cn(this.__i));let r=e.__e&&d(L,null,t.fallback),o=_e(t.children,this.__P);return e.__e?o.__v=this.o:this.o=o.__v,[o,r]};var Ur=(t,e,r)=>{if(++r[1]===r[0]&&t.l.delete(e.props),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};($e.prototype=new k).__e=function(t){let e=this,r=jr(e.__i),o=e.l.get(t.props);return o[0]++,n=>{let i=()=>{e.props.revealOrder?(o.push(n),Ur(e,t,o)):n()};r?r(i):i()}},$e.prototype.render=function(t){this.u=null,this.l=new Map;let e=ge(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(let r=e.length;r--;)this.l.set(e[r].props,this.u=[1,0,this.u]);return t.children},$e.prototype.componentDidUpdate=$e.prototype.componentDidMount=function(){this.l.forEach((t,e)=>{Ur(this,{props:e},t)})};var dn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,fn=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,hn=typeof document<"u",mn=t=>(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t);k.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(t=>{Object.defineProperty(k.prototype,t,{configurable:!0,get(){return this["UNSAFE_"+t]},set(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var zr=h.event;function yn(){}function gn(){return this.cancelBubble}function _n(){return this.defaultPrevented}h.event=t=>(zr&&(t=zr(t)),t.persist=yn,t.isPropagationStopped=gn,t.isDefaultPrevented=_n,t.nativeEvent=t);var vn,Xr={configurable:!0,get(){return this.class}},Yr=h.vnode;h.vnode=t=>{let e,r=t.type,o=t.props,n=o;if(typeof r=="string"){let i=r.indexOf("-")===-1;n={};let s=o.style;if(typeof s=="object")for(e in s)typeof s[e]!="number"||ln.test(e)||(s[e]+="px");for(e in o){let a=o[e];hn&&e==="children"&&r==="noscript"||e==="value"&&"defaultValue"in o&&a==null||(e==="defaultValue"&&"value"in o&&o.value==null?e="value":e==="download"&&a===!0?a="":/ondoubleclick/i.test(e)?e="ondblclick":/^onchange(textarea|input)/i.test(e+r)&&!mn(o.type)?e="oninput":/^onfocus$/i.test(e)?e="onfocusin":/^onblur$/i.test(e)?e="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(e)?e=e.toLowerCase():i&&fn.test(e)?e=e.replace(/[A-Z0-9]/,"-$&").toLowerCase():a===null&&(a=void 0),n[e]=a)}r=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=ge(o.children).forEach(a=>{a.props.selected=n.value.indexOf(a.props.value)!=-1})),r=="select"&&n.defaultValue!=null&&(n.value=ge(o.children).forEach(a=>{a.props.selected=n.multiple?n.defaultValue.indexOf(a.props.value)!=-1:n.defaultValue==a.props.value})),t.props=n,r&&o.class!=o.className&&(Xr.enumerable="className"in o,o.className!=null&&(n.class=o.className),Object.defineProperty(n,"className",Xr))}else if(typeof r=="function"&&r.defaultProps)for(e in r.defaultProps)n[e]===void 0&&(n[e]=r.defaultProps[e]);t.$$typeof=dn,Yr&&Yr(t)};var $r=h.__r;h.__r=function(t){$r&&$r(t),vn=function(e){let r=e.c,o=e.__;for(;r==null&&o;)r=o.c,o=o.__;return r}(t)};var qi=typeof performance=="object"&&typeof performance.now=="function"?performance.now.bind(performance):()=>Date.now();var de=Wr(({class:t,type:e="text",onChange:r,...o},n)=>d("div",{class:"text-input"},d("input",{...o,class:V("text-input__input",t),ref:n,type:e,onChange:i=>r?.(i.target.value)})));var xn=/^#?([0-9a-fA-F]{6})$/,Kr={title:"HEX",initState:t=>Ye(t),component({color:t,state:e,onChange:r}){let o=Se(null);return K(()=>{let n=o.current;if(n)return n.value=e,Te(n,"input",()=>{let i=xn.exec(n.value);r(n.value,i?parseInt(i[1],16):t)},Q)},[]),d(de,{ref:o})}};var bn=.01,Pn=3,G=class extends k{sliderRef={current:null};pointerId;sliderLayout=null;startX=0;render({class:e}){return d("div",{class:V("slider",e),tabIndex:0,ref:this.sliderRef,onPointerDown:this.onPointerDown,onPointerMove:this.onPointerMove,onPointerUp:this.onPointerUpOrCancel,onPointerCancel:this.onPointerUpOrCancel,onKeyDown:this.onKeyDown},d("div",{class:"slider__thumb"}))}shouldComponentUpdate(e){return this.updateValueCssVar(X(e)),this.updateClampCssVars(),!1}componentDidMount(){this.updateValueCssVar(X(this.props)),this.updateClampCssVars()}updateValueCssVar(e){this.sliderRef.current.style.setProperty("--slider__value",""+e)}updateClampCssVars(){let e=this.sliderRef.current,r=We(this.props),o=Ft(this.props);e.classList.toggle("slider--clamp-right",Math.abs(r-o)>Number.EPSILON),e.style.setProperty("--slider__max",""+X(this.props,r));let n=je(this.props),i=Ht(this.props);e.classList.toggle("slider--clamp-left",Math.abs(n-i)>Number.EPSILON),e.style.setProperty("--slider__min",""+X(this.props,n))}setValue(e){let r=We(this.props),o=je(this.props),n=X(this.props,r),i=X(this.props,o),s=ee(e,i,n);this.updateValueCssVar(s);let a=Ft(this.props),u=Ht(this.props),p=u+s*(a-u);Math.abs(p-this.props.value)>Number.EPSILON&&this.props.onChange(p)}onKeyDown=e=>{let{change:r=bn}=this.props;switch(e.code){case"ArrowLeft":this.setValue(X(this.props)-r);break;case"ArrowRight":this.setValue(X(this.props)+r);break}};onPointerDown=e=>{let r=this.sliderRef.current;this.pointerId=e.pointerId,this.sliderLayout=r.getBoundingClientRect(),this.startX=e.clientX,r.setPointerCapture(e.pointerId),r.classList.add("slider--active"),r.focus(),this.onPointerMove(e)};onPointerMove=e=>{if(e.pointerId===this.pointerId){let{height:r,left:o,width:n}=this.sliderLayout;this.setValue((e.clientX-o-r/2)/(n-r)),Math.abs(e.clientX-this.startX)>Pn&&this.sliderRef.current.classList.add("slider--drag")}};onPointerUpOrCancel=e=>{if(e.pointerId===this.pointerId){let r=this.sliderRef.current;r.classList.remove("slider--active","slider--drag"),r.releasePointerCapture(e.pointerId),this.pointerId=void 0,this.sliderLayout=null}}};function We(t){return t.maxValue??1}function je(t){return t.minValue??0}function Ft(t){let e=We(t);return Math.max(t.maxScaleValue??e,e)}function Ht(t){let e=je(t);return Math.min(t.minScaleValue??e,e)}function X(t,e=t.value){let r=We(t),o=je(t),n=Ft(t),i=Ht(t);n=Math.max(n,r),i=Math.min(i,o);let s=n-i;return Math.abs(s)>Number.EPSILON?(ee(e,o,r)-i)/s:0}var Zr={title:"HSL",initState:t=>Nr(te(t)),component({state:t,onChange:e}){let r=(o,n,i)=>{let s=[o,n,i];e(s,Xe(Vr(s)))};return d(L,null,d(G,{value:t[0],onChange:o=>r(o,t[1],t[2])}),d(G,{value:t[1],onChange:o=>r(t[0],o,t[2])}),d(G,{value:t[2],onChange:o=>r(t[0],t[1],o)}))}};var qr={title:"RGB",initState:t=>te(t),component({state:t,onChange:e}){let r=(o,n,i)=>{let s=[o,n,i];e(s,Xe(s))};return d(L,null,d(G,{value:t[0],onChange:o=>r(o,t[1],t[2])}),d(G,{value:t[1],onChange:o=>r(t[0],o,t[2])}),d(G,{value:t[2],onChange:o=>r(t[0],t[1],o)}))}};var Ke=[qr,Zr,Kr];function Jr(t,e){switch(e.kind){case"set-system":return{...t,colorSystem:e.colorSystem,colorSystemState:e.colorSystemState};case"toggle-popup":return{...t,isOpen:e.isOpen};default:return t}}function Qr(t){let e=Ke[0];return{colorSystem:e,colorSystemState:e.initState(t),isOpen:!1}}var eo=t=>{let e=Se(null),[r,o]=Pe(Jr,t.value,Qr);return d("button",{type:"button",class:"color-picker",style:Lt({"theme-bg-color":Ye(t.value)}),ref:e,tabIndex:0,onClick:()=>o({kind:"toggle-popup",isOpen:!r.isOpen})},d(we,{class:"color-picker__popup",open:r.isOpen,target:e.current,onCloseRequested:n=>{n.preventDefault(),o({kind:"toggle-popup",isOpen:!1})}},()=>d(L,null,d(kr,{class:"color-picker__system-select",options:Ke,value:r.colorSystem,contentRenderer:n=>n.title,onChange:n=>o({kind:"set-system",colorSystem:n,colorSystemState:n.initState(t.value)})}),d(r.colorSystem.component,{color:t.value,state:r.colorSystemState,onChange(n,i){t.onChange(i),o({kind:"set-system",colorSystem:r.colorSystem,colorSystemState:n})}}))))};function Ze(t){let e=t[0]==="-",r=e?1:0;for(;r<t.length&&t[r]==="0";)++r;let o=r;for(;r<t.length&&t[r]!==".";)++r;let n=r;for(r=t.length-1;r>n&&t[r]==="0";)--r;let i=r===n?r:r+1,s=t.slice(o,i);return o===i?{input:t,sign:0,size:1,value:"0"}:{input:t,sign:e?-1:1,size:Math.max(n-o,1),value:(e?"-":"")+(o===n&&n!==i?"0":"")+s}}function Ut(t,e){if(t.sign!==e.sign)return t.sign===0&&e.sign===0?0:t.sign;if(t.size!==e.size)return t.sign*(t.size-e.size);let r=Math.max(-t.sign,0),o,n=r+t.size;do o=t.value.charCodeAt(r)-e.value.charCodeAt(r);while(o===0&&++r<n);let i=Math.max(t.value.length,e.value.length);for(;o===0&&++r<i;)o=(r<t.value.length?t.value.charCodeAt(r):48)-(r<e.value.length?e.value.charCodeAt(r):48);return t.sign*o}var ro=/^\s*-?[0-9\s]*(?:\s*[.,][0-9\s]*)?$/,oo={sign:"",significant:"0",separator:"",fractional:"",concat:"0"},qe=class extends k{state={uiValue:""};inputRef=U();caret={index:0};uiValueParsed=oo;isEmpty=!0;minValue;maxValue;render(e,{uiValue:r}){let{groupBy:o=0,maxFractional:n=-1}=e;e.minValue&&e.minValue!==this.minValue?.input&&(this.minValue=Ze(e.minValue)),e.maxValue&&e.maxValue!==this.maxValue?.input&&(this.maxValue=Ze(e.maxValue));let i=this.minValue&&this.maxValue?Math.max(this.minValue.size,this.maxValue.size):e.maxSignificant??-1;this.caret.index=this.inputRef.current?.selectionStart??0,this.isEmpty=!r||r==="0"||r==="-0",this.uiValueParsed=Sn(r,i,n,this.caret);let s=(o>0?to(this.uiValueParsed.significant,o,0,this.caret):this.uiValueParsed.significant)+this.uiValueParsed.separator+this.uiValueParsed.fractional;return d("div",{class:"number-input",onPointerDown:this.onDelegateFocus},d("span",{onClick:this.onToggleSign,children:this.uiValueParsed.sign?"- ":"+ ",class:V("number-input__placeholder",D("number-input__sign",{negative:!!this.uiValueParsed.sign}))}),(()=>{let a=this.uiValueParsed.significant.length;if(a>=i)return null;let u="0".repeat(i-a);return d("span",{class:"number-input__placeholder"},o>0?to(u,o,a):u)})(),d("div",{class:"number-input__input-wrapper"},d("span",{class:"number-input__placeholder number-input__measurement"},s),d("input",{class:"number-input__input",ref:this.inputRef,type:"text",inputMode:"decimal",value:s,onBlur:this.onLostFocus,onbeforeinput:this.onBeforeInput,onInput:this.onInput})),this.uiValueParsed.fractional.length<n?d("span",{class:"number-input__placeholder"},(this.uiValueParsed.separator?"":".")+"0".repeat(n-this.uiValueParsed.fractional.length)):null)}componentDidUpdate(){this.inputRef.current&&this.inputRef.current===document.activeElement&&this.inputRef.current.setSelectionRange(this.caret.index,this.caret.index)}onDelegateFocus=e=>{if(this.inputRef.current&&e.target!==this.inputRef.current){e.preventDefault(),this.inputRef.current.focus();let r=this.inputRef.current.getBoundingClientRect(),o=e.x<(r.left+r.right)/2?0:this.inputRef.current.value.length;this.inputRef.current.setSelectionRange(o,o)}};onLostFocus=()=>{let e=Ze(this.uiValueParsed.sign+this.uiValueParsed.concat),r=e;this.minValue&&Ut(r,this.minValue)<0?r=this.minValue:this.maxValue&&Ut(r,this.maxValue)>0&&(r=this.maxValue),r!==e&&this.setState({uiValue:r.value}),this.props.onChange(r.value)};onToggleSign=()=>{let e=this.inputRef.current?.value??"0";this.setState({uiValue:(this.uiValueParsed.sign?"":"-")+e})};onBeforeInput=e=>{if(e.target!==this.inputRef.current)return;let r=this.inputRef.current,o=r.value,n=r.selectionStart??o.length,i=r.selectionEnd??o.length;if(!e.data){e.inputType==="deleteContentBackward"&&this.uiValueParsed.sign&&(n===0||this.isEmpty&&n===o.length)&&(e.preventDefault(),this.onToggleSign());return}if(e.data==="-"&&!this.uiValueParsed.sign&&(n===0||this.isEmpty)){e.preventDefault(),this.onToggleSign();return}let s=o.slice(0,n)+e.data+o.slice(i);ro.test(s)||e.preventDefault()};onInput=e=>{if(e.target!==this.inputRef.current)return;let r=this.inputRef.current.value;this.isEmpty&&this.inputRef.current.selectionStart===r.length&&/^0[^0]/.test(r)&&(r=r.slice(1)),this.setState({uiValue:this.uiValueParsed.sign+r})}};function Sn(t,e,r,o){if(!t||!ro.test(t))return o.index=1,oo;let n="",i="",s=-1,a="",u=0,p=0,g=0,_=0,b=()=>{a+=t.slice(u,p),u=p+1};for(;p<t.length;){let w=t.charCodeAt(p);w===46||w===44?(i=".",s=p-_):(w<48||w>57)&&(b(),++_,w===45?n="-":p<o.index&&++g),++p}b(),o.index-=g,s===-1&&(s=a.length);let P=a.slice(0,s)||"0";e>=1&&(o.index>e&&(o.index-=Math.max(P.length-e,0)),P=P.slice(0,e));let T=a.slice(s+1);return r>=0&&(T=T.slice(0,r),r===0&&(i="")),{sign:n,separator:i,significant:P,fractional:T,concat:a}}function to(t,e,r,o){let n=t,i=t.length+(r-1)%e+1;for(;i>e;)i-=e,n=n.slice(0,i)+" "+n.slice(i),o&&i<o.index&&++o.index;return n}var En=100,Je="scroll-indicator",Qe=class extends k{activityDebounceHandle;indicator=null;parent;render(){return d("div",{ref:this.onScrollIndicatorRef,class:D(Je,{horizontal:this.props.horizontal,vertical:!this.props.horizontal})})}componentWillUnmount(){clearTimeout(this.activityDebounceHandle)}onScrollIndicatorRef=e=>{this.indicator=e;let r=e?.parentElement;this.parent!==r&&(this.parent?.removeEventListener("scroll",this.onScroll),this.parent=r,r&&(r.addEventListener("scroll",this.onScroll,Q),this.onScroll()))};onScroll=()=>{let e=this.parent,r=this.indicator,o,n,i;this.props.horizontal?(o=e.clientWidth,n=e.scrollWidth,i=e.scrollLeft):(o=e.clientHeight,n=e.scrollHeight,i=e.scrollTop);let s=o<n;s&&(r.style.setProperty("--scroll-indicator__offset",""+i/n),r.style.setProperty("--scroll-indicator__proportion",""+o/n),r.classList.add(Z(Je,"active")),clearTimeout(this.activityDebounceHandle),this.activityDebounceHandle=setTimeout(this.onInactive,En)),r.classList.toggle(Z(Je,"visible"),s)};onInactive=()=>{this.indicator?.classList.remove(Z(Je,"active"))}};var Ae=class extends k{state={navIndex:0,navSource:"self",isOpen:!1,search:""};wrapperRef=U();inputRef=U();listRef=U();filteredOptions=null;render({options:e,value:r},{navIndex:o,isOpen:n,search:i}){let s=()=>{let u=i.toLowerCase(),p=[];this.filteredOptions=[];for(let g=0;g<e.length;++g){let _=e[g],b=_.title??""+_.value,P=-1;if(i&&(P=b.toLowerCase().indexOf(u))===-1)continue;let T=P+u.length;p.push(d("li",{key:g,tabIndex:-1,onClick:()=>this.selectOption(_),onPointerMove:this.onOptionPointerEnter,class:D("select__list__option",{selected:_.value===r,nav:o===this.filteredOptions.length})},P===-1?b:d(L,null,b.slice(0,P),d("span",{class:"select__search"},b.slice(P,T)),b.slice(T)))),this.filteredOptions.push(_)}return p.length===0&&i&&p.push(d("li",{class:"select__list__no-results"},this.context?.t("component.select.no-results"))),d(L,null,d("ul",{class:"select__list",ref:this.listRef},p),d(Qe,null))},a=e.find(u=>u.value===r);return d("div",{class:D("select",{open:n}),ref:this.wrapperRef,onfocusout:this.onFocusOut},d("input",{class:"select__input",type:"text",ref:this.inputRef,onKeyDown:this.onKeyDown,onInput:this.onInput,onClick:()=>this.toggleDropdown(),placeholder:a?a.title??""+a.value:"",value:n?i:""}),d(we,{class:"select__popup",open:n,target:this.wrapperRef.current,onCloseRequested:this.onPopupCloseRequested},s))}componentDidUpdate(){let e;this.state.isOpen&&this.state.navSource!=="pointer"&&(e=this.listRef.current?.children[this.state.navIndex])&&Rn(e)}toggleDropdown(e=!this.state.isOpen){if(this.state.isOpen===e)return;let r={isOpen:e};e&&(r.search="",r.navIndex=Math.max(this.props.options.findIndex(o=>o.value===this.props.value),0),r.navSource="self"),this.setState(r)}selectOption(e){this.props.onChange(e.value),this.toggleDropdown(!1),this.inputRef.current?.focus()}onPopupCloseRequested=e=>{ce(e.target,this.wrapperRef.current)||(e.preventDefault(),this.toggleDropdown(!1))};onFocusOut=e=>{e.relatedTarget&&!(ce(e.relatedTarget,this.listRef.current)||ce(e.relatedTarget,this.wrapperRef.current))&&this.toggleDropdown(!1)};onOptionPointerEnter=e=>{let r=this.listRef.current?.children;if(r){for(let o=0;o<r.length;++o)if(r[o]===e.target){o!==this.state.navIndex&&this.setState({navIndex:o,navSource:"pointer"});break}}};onInput=()=>{this.setState({isOpen:!0,search:this.inputRef.current?.value,navIndex:0,navSource:"self"})};onKeyDown=e=>{let r=this.filteredOptions??this.props.options,{isOpen:o,navIndex:n}=this.state;switch(e.code){case"ArrowUp":o||this.toggleDropdown(!0),this.setState({navIndex:Math.max(n-1,0),navSource:"arrows"});break;case"ArrowDown":o||this.toggleDropdown(!0),this.setState({navIndex:Math.min(n+1,r.length-1),navSource:"arrows"});break;case"Enter":case"NumpadEnter":{let i=r[n];this.state.isOpen&&i&&this.selectOption(i);break}case"Escape":this.toggleDropdown(!1);break;default:return}e.preventDefault()}};W(Ae,"contextType",Ue);function Rn(t){let e;if(!(e=t.offsetParent))return;let r=t.offsetTop,o=e.scrollTop;if(o>r){e.scrollTo(0,r);return}let n=t.offsetHeight,i=e.offsetHeight;o+i<r+n&&e.scrollTo(0,r+n-i)}var no=({points:t,resolution:e=100})=>{let r=Ee(()=>{let o=e/2,n="";for(let i=0;i<t.length;i+=2)n+=`${Math.round(o+t[i]*o)},${Math.round(o+t[i+1]*o)} `;return n},[t,e]);return d("svg",{class:"shape-preview",viewBox:`0 0 ${e} ${e}`},d("polygon",{points:r}))};var io=({onChange:t,value:e,shapes:r})=>{let{t:o}=It();return d("div",{class:"shape-picker"},r.map(n=>d("button",{class:D("shape-picker__button",{selected:n.key===e}),type:"button",key:n.key,onClick:()=>t(n.key),title:o(`shapes.${n.key}`)},d(no,{points:n.points}))))};var Cn=3,et=class extends k{buttonRef={current:null};pointerId;switchLayout=null;startX=0;ignoreClick=!1;render({value:e}){return d("button",{class:D("switch",{on:e}),ref:this.buttonRef,onClick:this.onClick,onPointerDown:this.onPointerDown,onPointerMove:this.onPointerMove,onPointerUp:this.onPointerUpOrCancel,onPointerCancel:this.onPointerUpOrCancel},d("div",{class:"switch__thumb"}))}onClick=()=>{this.ignoreClick||this.props.onChange(!this.props.value)};onPointerDown=e=>{let r=this.buttonRef.current;this.pointerId=e.pointerId,this.switchLayout=r.getBoundingClientRect(),this.startX=e.clientX,this.ignoreClick=!1,r.setPointerCapture(e.pointerId),r.focus(),this.onPointerMove(e)};onPointerMove=e=>{if(e.pointerId===this.pointerId&&Math.abs(e.clientX-this.startX)>Cn){let{left:r,right:o}=this.switchLayout,n=e.clientX>(r+o)/2;this.props.value!==n&&this.props.onChange(n),this.ignoreClick=!0}};onPointerUpOrCancel=e=>{e.pointerId===this.pointerId&&(this.buttonRef.current.releasePointerCapture(e.pointerId),this.pointerId=void 0,this.switchLayout=null)}};function tt(){K(()=>{let t,e,r=i=>{i.defaultPrevented&&(t=i.pointerId)},o=i=>{i.pointerId===t&&(t=void 0,e=i.timeStamp)},n=i=>{e!==void 0&&i.timeStamp-e<Number.EPSILON&&(i.preventDefault(),i.stopImmediatePropagation(),e=void 0)};return window.addEventListener("pointerdown",r,Q),window.addEventListener("pointerup",o,Q),window.addEventListener("click",n,Ce),()=>{window.removeEventListener("pointerdown",r),window.removeEventListener("pointerup",o),window.removeEventListener("click",n,Ce)}},[])}var Me=[{key:"circle",points:[.85,0,.821,-.22,.736,-.425,.601,-.601,.425,-.736,.22,-.821,0,-.85,-.22,-.821,-.425,-.736,-.601,-.601,-.736,-.425,-.821,-.22,-.85,-0,-.821,.22,-.736,.425,-.601,.601,-.425,.736,-.22,.821,-0,.85,.22,.821,.425,.736,.601,.601,.736,.425,.821,.22]},{key:"square",points:[.85,-.85,-.85,-.85,-.85,.85,.85,.85]},{key:"diamond",points:[1,0,0,-1,-1,-0,-0,1]},{key:"triangle",points:[1,-.85,-1,-.85,-0,.85]},{key:"star",points:[.577,0,.866,-.5,.289,-.5,0,-1,-.289,-.5,-.866,-.5,-.577,-0,-.866,.5,-.289,.5,-0,1,.289,.5,.866,.5]}];var Tn=new Array(25).fill(0).map((t,e)=>({value:e+1})),so=()=>{tt();let[t,e]=N(""),[r,o]=N("0.000"),[n,i]=N(1),[s,a]=N(!1),[u,p]=N(""),[g,_]=N(.5),[b,P]=N(16711680);return d(ue,{url:"./locale/en.json"},d(ze,null,d(J,null,"Regular Button"),d(Dt,{glyph:"♻️"}),d(de,{value:t,onChange:e}),d(qe,{value:r,onChange:o,minValue:"-999999999.999",maxValue:"999999999.999",groupBy:3}),d(Ae,{options:Tn,value:n,onChange:i}),d(et,{value:s,onChange:a}),d(io,{shapes:Me,value:u,onChange:p}),d(G,{value:g,onChange:_,maxValue:.8,minValue:.2,maxScaleValue:1,minScaleValue:0}),d(eo,{value:b,onChange:P})))};function re(){this.t=[]}function Y(){this.i=new Set,this.u=[]}re.prototype.o=null,re.prototype.h=function(){return this.o||(this.o=this.t.slice()),this.o},re.prototype.l=function(t){this.t.push(t),this.o=null},re.prototype.g=function(){return this.t.length!==0&&(this.t=[],this.o=null,!0)},re.prototype.m=function(){return this.t.length},re.prototype.P=function(t){let{t:e}=this,r,o=e.length-1;for(;o>=0&&(r=e[o],r!==t&&r.p!==t);)--o;return o!==-1&&(this.t.splice(o,1),this.o=null,!0)},re.prototype.v=function(t){let e=this.t.lastIndexOf(t);e!==-1&&(this.t.splice(e,1),this.o=null)},Y.prototype.o=null,Y.prototype.h=function(){return this.o||(this.o=Array.from(this.i.values()).concat(this.u)),this.o},Y.prototype.l=function(t){if(t.p){if(this.i.has(t.p))return;this.u.push(t)}else this.i.add(t),this.A(t);this.o=null},Y.prototype.g=function(){return!!this.m()&&(this.i.clear(),this.u=[],this.o=null,!0)},Y.prototype.m=function(){return this.i.size+this.u.length},Y.prototype.P=function(t){return this.i.delete(t)?(this.o=null,!0):this.A(t)},Y.prototype.v=function(t){let e=this.u.lastIndexOf(t);e!==-1&&(this.u.splice(e,1),this.o=null)},Y.prototype.A=function(t){let e=this.u.length-1;for(;e>=0;){if(this.u[e].p===t)return this.u.splice(e,1),this.o=null,!0;--e}return!1};var Ul=window.devicePixelRatio||1;var xu=1/12;var bu=Math.PI*2;var dc=window.devicePixelRatio||1;var fe=class{constructor(e){this.alphabet=e;let r=e.length;if(r===0)throw new Error("Alphabet cannot be empty.");if(r&r-1)throw new Error("Alphabet length must be a power of two.");this.shift=Math.trunc(Math.log(r)/Math.LN2),this.mask=Math.trunc(r-1)}shift;mask;index=0;next(){let e="",r=this.index++;do e=this.alphabet[r&this.mask]+e,r>>=this.shift;while(r>0);return e}static createBase32(){return new fe("0123456789abcdefghijklmnopqrstuv")}};function Wt(t,e){if(!t)return[];let r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function he(t,e){return t?(t.unshift(e),t):[]}var ao=Qt(Zt()),rt=class extends ao.default{toBBox({source:e,destination:r}){return{maxX:Math.max(e.x,r.x),minX:Math.min(e.x,r.x),maxY:Math.max(e.y,r.y),minY:Math.min(e.y,r.y)}}compareMinX(e,r){return Math.min(e.source.x,e.destination.x)-Math.min(r.source.x,r.destination.x)}compareMinY(e,r){return Math.min(e.source.y,e.destination.y)-Math.min(r.source.y,r.destination.y)}};var lo=Qt(Zt()),ot=class extends lo.default{toBBox({x:e,y:r}){return{maxX:e,minX:e,maxY:r,minY:r}}compareMinX(e,r){return e.x-r.x}compareMinY(e,r){return e.y-r.y}};function nt(t,e,r=t,o=e,n=Number.EPSILON){return{maxX:r+n,minX:t-n,maxY:o+n,minY:e-n}}var it=class{identity;edges=new Set;edgeTree=new rt;nodes=new Set;nodeTree=new ot;constructor(e){this.identity=e.identity}getOrCreateNodeAt(e,r){let o=this.getNodeAt(e,r);return o||(o={id:this.identity.next(),x:e,y:r},this.nodes.add(o),this.nodeTree.insert(o)),o}removeNode(e){return this.nodes.delete(e)?(e.edges?.forEach(r=>this.removeEdge(r)),this.nodeTree.remove(e),!0):!1}getOrCreateEdge(e,r){if(!this.nodes.has(e)||!this.nodes.has(r))throw new Error("Src and dst nodes must be part of the same graph to form a connection.");let o=this.findEdge(e,r);return o||(o={source:e,destination:r},(e.edges??=[]).push(o),(r.edges??=[]).push(o),this.edges.add(o),this.edgeTree.insert(o)),o}removeEdge(e){return this.edges.delete(e)?(Wt(e.source.edges,e),Wt(e.destination.edges,e),!0):!1}beginMoveNodes(e){let r=new Set;for(let o of e)this.nodeTree.remove(o),o.edges?.forEach(n=>r.add(n));r.forEach(o=>this.edgeTree.remove(o))}endMoveNodes(e){let r=new Set;for(let{ref:o,x:n,y:i}of e){if(o.x=n,o.y=i,this.getNodeAt(o.x,o.y))throw new Error("Attempted to move a node to an occupied cell!");this.nodeTree.insert(o),o.edges?.forEach(s=>r.add(s))}this.edgeTree.load(Array.from(r))}getNodeAt(e,r){let o=this.nodeTree.search(nt(e,r));if(o.length>1)throw new Error(`More than one node found at [ ${e}, ${r} ]`);return o.length>0?o[0]:null}getNodesWithin(e,r,o,n){return this.nodeTree.search(nt(e,r,o,n))}getEdgesWithin(e,r,o,n){return this.edgeTree.search(nt(e,r,o,n))}};var st=class extends it{constructor(e){super(e)}findEdge(e,r){let o=e.edges,n=r.edges;return o&&n&&(o.length<n.length?o.find(i=>i.destination===r):n.find(i=>i.source===e))}};var qt=new st({identity:fe.createBase32()});function uo(t,e){return Math.round(t+Math.random()*(e-t))}function lt(t,e){return Math.trunc(t+Math.random()*(e-t))}var po=1e5,Vn=1e4,at=Math.sqrt(po),Jt=[],ut=0;for(;ut<po;){let t=uo(-at,at),e=uo(-at,at);if(qt.getNodeAt(t,e))continue;let r=qt.getOrCreateNodeAt(t,e);r.color=lt(0,16777215+1),r.shape=Me[lt(0,Me.length)].key,Jt.push(r),++ut}var co=0;for(;co<Vn;){let t=lt(0,ut),e=lt(0,ut);qt.getOrCreateEdge(Jt[t],Jt[e]),++co}var fo=(t,{depth:e=0,field:r,key:o,options:n,title:i,value:s,onChange:a})=>{t.addRow("[",{depth:e,key:`${o}$begin`,options:he(n,{title:t.t("component.multi-editor.reset"),callback:()=>a(r.optional?void 0:r.initial)}),title:i}),s?.forEach((u,p)=>t.handleField({depth:e+1,field:r.items,key:`${o}[${p}]`,title:`[${p}]`,value:u,options:[{title:t.t("component.multi-editor.array-remove"),callback:()=>a(s.filter((g,_)=>_!==p))}],onChange(g){let _=s.slice();_[p]=g,a(_)}})),t.addRow(d(J,{class:"array-field__add-button",onClick:()=>a(s?.concat(void 0)??[void 0]),children:t.t("component.multi-editor.array-add")}),{key:`${o}$add`,depth:e+1}),t.addRow("]",{depth:e,key:`${o}$end`})};var ho=(t,{depth:e=0,field:r,key:o,options:n,title:i,value:s,onChange:a})=>{t.addRow("{",{depth:e,key:`${o}$begin`,options:he(n,{title:t.t("component.multi-editor.reset"),callback:()=>a(r.optional?void 0:r.initial)}),title:i}),r.props.forEach(u=>t.handleField({depth:e+1,field:u,key:`${o}.${u.key}`,value:s?.[u.key],title:u.title??u.key,onChange:p=>a({...s,[u.key]:p})})),t.addRow("}",{depth:e,key:`${o}$end`})};function mo(t){return(e,{depth:r,field:o,key:n,options:i,title:s,value:a,onChange:u})=>{e.addRow(d(t,{onChange:u,value:a}),{depth:r,key:n,options:he(i,{title:e.t("component.multi-editor.reset"),callback:()=>u(o.optional?void 0:o.initial)}),title:s})}}var yo={array:fo,object:ho};var Dp={...yo,string:mo(de)},go={};Object.assign(go,{kind:"object",props:[{kind:"string",key:"aaa"},{kind:"array",key:"bbb",items:go}]});vt(d(so,null),document.getElementById("root"));})();
